window.announcekit=(()=>{var t={1244:(t,e,i)=>{"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,{default:()=>jt});var s=i(6774);i(6699);class o{constructor(){n(this,"listeners",void 0),this.listeners={}}trigger(t,e){this.listeners[t]?.forEach((t=>t(e))),this.listeners["*"]?.forEach((i=>i({data:e,name:t})))}on(t,e){this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)}off(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter((t=>t!=e)))}one(t,e){var i=this;let n;n=function(){i.listeners[t]=i.listeners[t].filter((t=>t!=n)),e(...arguments)},this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(n)}offAll(){this.listeners={}}}class r extends o{get state(){return{}}constructor(t){super(),n(this,"destroyed",!1),n(this,"parent",void 0),this.parent=t,this.parent?.on("state",(t=>this.trigger("state",t)))}watchState(t,e){let i=e(this.state);const n=n=>{let o=e(n);s(i,o)||(i=o,t(o))};return this.on("state",n),t(i),()=>this.off("state",n)}destroy(){this.destroyed||(this.destroyed=!0,this.trigger("destroy"),this.offAll())}}class a extends r{constructor(t){super(t)}get state(){return this.parent.state}get frame(){return this.parent.frame}get conf(){return this.parent.conf}get post(){return this.parent.state.boosterPosts?.[this.type]}}function l(t){const e=t.replace(/#/,"");return[.299*parseInt(e.substr(0,2),16),.587*parseInt(e.substr(2,2),16),.114*parseInt(e.substr(4,2),16)].reduce(((t,e)=>t+e))/255}function d(t){let{color:e="#E01E5A",counter:i=0,reset:n=!1}=t,s=document.querySelector("link[rel~='icon']");s||(s=document.createElement("link"),s.setAttribute("rel","icon"),s.setAttribute("href",`${location.protocol}//${location.host}/favicon.ico`),document.head.appendChild(s));const o=s.getAttribute("data-href")||s.getAttribute("href");if(!o)return;const r=s.classList.contains("badge-init");if(n)return r?s.setAttribute("href",o):void 0;if(r)return;s.classList.add("badge-init"),s.setAttribute("data-href",o);const a=new Image;a.crossOrigin="anonymous";try{a.addEventListener("load",(function(){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=a.width,t.height=a.height,n.beginPath(),n.drawImage(a,0,0,a.width,a.height,0,0,t.width,t.height),n.stroke(),n.beginPath(),n.fillStyle=e,n.strokeStyle=e,n.arc(.7*t.width,.7*t.height,t.height/3.5,0,2*Math.PI),n.fill(),n.stroke(),n.closePath(),n.fillStyle="#fff",n.font=`bold ${a.height/2}px sans-serif`,n.textAlign="center",n.textBaseline="middle",n.fillText(String(i),.7*t.width,.74*t.height),s.classList.add("badge-inserted"),s.setAttribute("href",t.toDataURL())})),a.src=o}catch(t){}}function c(t){return t instanceof Element?t:document.querySelector(t)}const h={};function p(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(h[`badge-shake-scale${t}`])return h[`badge-shake-scale${t}`];let e=`announcekit-badgeanim-${(new Date).getTime()}-${1e4*Math.random()|0}`;return h[`badge-shake-scale${t}`]=e,m(`\n    .${e} {\n      position: relative;\n      animation-name: kf-${e};\n      animation-duration: 2s;\n      animation-timing-function: cubic-bezier(0.15, 0.03, 0.06, 0.39);\n      animation-iteration-count: infinite;\n      animation-fill-mode: forwards;\n      opacity: 1;\n    }\n\n    @keyframes kf-${e} {\n      4%,\n      36% {\n        transform: translateX(-1px) ${t?`scale(${t})`:""}\n      }\n      8%,\n      32% {\n        transform: translateX(1px) ${t?`scale(${t})`:""};\n      }\n      12%,\n      20%,\n      28% {\n        transform: translateX(-2px) ${t?`scale(${t})`:""};\n      }\n      18%,\n      26% {\n        transform: translateX(2px) ${t?`scale(${t})`:""};\n      }\n      36%,\n      100% {\n        transform: translateX(-1px) ${t?`scale(${t})`:""};\n      }\n    }\n  `),e}function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ff4b4b";if(h[`badge-pulse-${t}`])return h[`badge-pulse-${t}`];let e=`announcekit-badgeanim-${(new Date).getTime()}-${1e4*Math.random()|0}`;return h[`badge-pulse-${t}`]=e,m(`\n    .${e} {\n      position: relative;\n      z-index: 1;\n    }\n\n    .${e}:after,\n    .${e}:before {\n      content: "";\n      position: absolute;\n      background: ${t};\n      border-radius: 50%;\n      width: 1.75em;\n      height: 1.75em;\n      animation-name: kf-${e};\n      animation-duration: 2s;\n      animation-timing-function: ease-out;\n      animation-iteration-count: infinite;\n      animation-fill-mode: forwards;\n      left: 50%;\n      top: 50%;\n      margin-top: -0.875em;\n      margin-left: -0.875em;\n      opacity: 0;\n      z-index: -1;\n    }\n\n    .${e}:after {\n      animation-delay: 1s;\n    }\n\n    @keyframes kf-${e} {\n      from {\n        transform: scale(0.7);\n        opacity: 0.6;\n      }\n      to {\n        transform: scale(1.5);\n        opacity: 0;\n      }\n    }\n  `),e}function g(){if(h["badge-minimalist"])return h["badge-minimalist"];let t=`announcekit-minimalist-${(new Date).getTime()}-${1e4*Math.random()|0}`;return h["badge-minimalist"]=t,m(`\n    .${t} {\n      transform: scale(0.5);\n      margin-left: -0.3em;\n      margin-top: -0.8em;\n    }\n\n    .announcekit-widget-floating-badge .announcekit-widget-badge.${t} {\n      margin-left: auto;\n      margin-top: auto;\n    }\n  `),t}function m(t){const e=document.createElement("style");return e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e),e}let b,f,w;!function(t){t.WIDGET="widget",t.NOTIFICATION="notification",t.NPS="nps"}(b||(b={})),function(t){t.SEEN_ONCE="seen_once",t.UNTIL_EXPIRE="until_expire"}(f||(f={})),function(t){t.SUBMIT_RESPONSE="submit_response",t.UNTIL_CLOSE="until_close",t.ONLY_ONCE="only_once"}(w||(w={}));const y="announcekit-booster-bar",v=t=>{if(t<=0)return{days:0,hours:0,minutes:0,seconds:0};const e=Math.floor(t/1e3);return{days:Math.floor(e/86400),hours:Math.floor(e%86400/3600),minutes:Math.floor(e%3600/60),seconds:e%60}},x=`\n  <div class="${y}-content">\n    <span class="${y}-label"></span>\n    <span class="${y}-icon"></span>\n    <span class="${y}-title"></span>\n    <span class="${y}-action-button"></span>\n    <span class="${y}-timer"></span>\n    <span class="${y}-cta"></span>\n  </div>\n  <span class="${y}-close">\n<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M9.04936 9.05025C8.83056 9.26905 8.70765 9.56579 8.70765 9.87521C8.70765 10.1846 8.83056 10.4814 9.04936 10.7002L12.3492 14L9.04936 17.2998C8.83056 17.5186 8.70765 17.8154 8.70765 18.1248C8.70765 18.4342 8.83056 18.731 9.04936 18.9497C9.26815 19.1685 9.5649 19.2915 9.87431 19.2915C10.1837 19.2915 10.4805 19.1685 10.6993 18.9497L13.9991 15.6499L17.2989 18.9497C17.5177 19.1685 17.8145 19.2915 18.1239 19.2915C18.4333 19.2915 18.7301 19.1685 18.9489 18.9497C19.1676 18.731 19.2906 18.4342 19.2906 18.1248C19.2906 17.8154 19.1676 17.5186 18.9489 17.2998L15.649 14L18.9489 10.7002C19.1676 10.4814 19.2906 10.1846 19.2906 9.87521C19.2906 9.56579 19.1676 9.26904 18.9489 9.05025C18.7301 8.83146 18.4333 8.70854 18.1239 8.70854C17.8145 8.70854 17.5177 8.83146 17.2989 9.05025L13.9991 12.3501L10.6993 9.05025C10.4805 8.83146 10.1837 8.70854 9.87431 8.70854C9.5649 8.70854 9.26815 8.83146 9.04936 9.05025Z" \nfill="currentColor"/>\n</svg>\n</span>\n`;class $ extends a{get type(){return"bar"}constructor(t){super(t),n(this,"bar",void 0),n(this,"label",void 0),n(this,"contentWrapper",void 0),n(this,"icon",void 0),n(this,"title",void 0),n(this,"actionButton",void 0),n(this,"cta",void 0),n(this,"timer",void 0),n(this,"cssid",void 0),n(this,"isNotifyEndUsers",void 0),n(this,"timerInterval",void 0),n(this,"showdelaytimer",void 0),n(this,"hidedelaytimer",void 0),n(this,"_configure",(()=>{this.watchState((t=>{let{disabled:e,sticky:i,bottom:n,color:s,fontSize:o,borderRadius:r,shadowSize:a,topbarScaling:d,backgroundColor:c,title:h,url:p,labelName:u,cta:g,showLabel:m,labelColor:w,showunread:x,unread:$,lastRead:k,visibleAt:S,showdelay:_,boostersViewsMap:C,includeIcon:E,icon:O,showCountdownTimer:T,countdownTimer:P,timerStyle:L,expireAt:A,enableActionButton:F,actionButton:N,enableAnimatedBackground:j,animationType:M,font:I,textAlignment:z}=t;if(e||!h)return this._hide();const R=this.state.boosterPosts.bar.notify_interaction;if(this.isNotifyEndUsers&&R===f.SEEN_ONCE&&C.bar&&C.bar.count>0)return this._hide();if(!this.isNotifyEndUsers&&x&&(!$||new Date(S).getTime()<=Number(k)))return this._hide();const D=(parseFloat(d)||48)/48;document.documentElement.style.setProperty("--announcekit-bar-scale",String(D));const B=this.isNotifyEndUsers||this.state.preview?String(D):o;document.documentElement.style.setProperty("--announcekit-bar-font-multiplier",B),document.documentElement.style.setProperty("--announcekit-bar-border-radius",`${r}px`),document.documentElement.style.setProperty("--announcekit-bar-shadow-size",`${a}px`),document.documentElement.style.setProperty("--announcekit-bar-background-color",`${c}px`);const H=parseFloat(a)||20;let W="none";if(H>0){const t=c.replace("#","");W=`0px 1px ${H}px 0px rgba(${parseInt(t.substring(0,2),16)}, ${parseInt(t.substring(2,4),16)}, ${parseInt(t.substring(4,6),16)}, 0.6)`}let U={color:`#${s}`,backgroundColor:`#${c}`,borderRadius:"calc(var(--announcekit-bar-border-radius) * var(--announcekit-bar-scale, 1))",boxShadow:W,boxSizing:"border-box",padding:"calc(6px * var(--announcekit-bar-scale, 1)) calc(8px * var(--announcekit-bar-scale, 1))"};if((this.isNotifyEndUsers||this.state.preview)&&(U.height=`${d}px`),U.position=i?"fixed":"absolute",n?U.bottom="0":U.top="0",this.conf.type&&this.conf.type!==b.WIDGET||(u&&m?(this.label.innerText=this.state.locale.$label[u]||u,Object.assign(this.label.style,{backgroundColor:`#${w}`,borderRadius:"3px",padding:"3px 5px",color:l(w)>.5?"black":"white",textTransform:"uppercase",marginRight:"5px",marginLeft:"5px",fontSize:"0.7em",lineHeight:1,display:""})):this.label.style.display="none"),E&&O&&O.svg){this.icon.innerHTML=O.svg,this.icon.style.display="flex",this.icon.style.alignItems="center",this.icon.style.flexShrink="0";const t=this.icon.querySelector("svg");t&&t.querySelectorAll("path").forEach((t=>{const e=t.getAttribute("fill"),i=t.getAttribute("stroke");e&&"none"!==e&&t.setAttribute("fill",`#${s}`),i&&"none"!==i&&t.setAttribute("stroke",`#${s}`)}))}else this.icon.style.display="none",this.icon.innerHTML="";this.title.innerText=this.state.widget.overrideState&&this.state.widget.overrideState.title?this.state.widget.overrideState.title:h;const q='system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif';if(I){const t=I.replace(/^["']|["']$/g,""),e=t===q,i=e?q:`"${t}"`;if(document.documentElement.style.setProperty("--announcekit-bar-font-family",i),!e){const e=t.replace(/\s/g,"+"),i=`announcekit-bar-font-${e}`;if(!document.getElementById(i)){const t=document.createElement("link");t.id=i,t.rel="stylesheet",t.href=`https://fonts.googleapis.com/css?family=${e}:400,500,600,700&subset=latin-ext,cyrillic,cyrillic-ext&display=swap`,document.head.appendChild(t)}}}else document.documentElement.style.setProperty("--announcekit-bar-font-family","inherit");let V="",Y="javascript:void(0)",K="_self",X=!1;if(F&&N&&N.buttonText&&N.buttonText.trim())V=N.buttonText,X=!0,"redirect_url"===N.actionType&&N.redirectUrl&&(N.redirectUrl,N.openInNewTab?"_blank":"_self");else if(this.state.boosterPosts&&this.state.boosterPosts.bar&&"notification"===this.state.boosterPosts.bar.type){const t=this.state.boosterPosts.bar.redirectUrl;t?(this.bar.href=t,this.bar.target="_blank"):(this.bar.href="javascript:void(0)",this.bar.target="_self")}else if(this.state.widget.overrideState){const t=this.state.widget.overrideState.url;t?(this.bar.href=t,this.bar.target="_blank"):(this.bar.href="javascript:void(0)",this.bar.target="_self")}else this.bar.href=p,this.bar.target="_blank";let Z=screen.width<700;if(X&&!Z?(this.actionButton.innerText=V,this.actionButton.style.display="block",this.actionButton.style.color=`#${s}`):(this.actionButton.style.display="none",this.actionButton.innerText=""),!g||Z||this.isNotifyEndUsers||X?(this.cta.style.display="none",this.cta.innerText=""):(this.cta.innerText=g,this.cta.style.display="block"),T&&P){const t=()=>{this.timer.style.display="flex",this.timer.style.alignItems="center",this.timer.style.gap="0",this.timer.style.flexShrink="0",this.timer.style.maxHeight="100%",this.timer.style.boxSizing="border-box",this.timer.style.overflow="visible"},e=(t,e,i,n)=>{this.timer.style.display="flex",this.timer.style.color=`#${t}`,this.timer.style.backgroundColor=`rgba(${e}, ${i}, ${n}, 0.08)`,this.timer.style.whiteSpace="nowrap",this.timer.style.height="calc(24px * var(--announcekit-bar-scale, 1))",this.timer.style.borderRadius="calc(4px * var(--announcekit-bar-scale, 1))",this.timer.style.padding="calc(4px * var(--announcekit-bar-scale, 1)) calc(6px * var(--announcekit-bar-scale, 1))"},i=()=>"use_expire_date"===P.timerType&&A?new Date(A).getTime():"custom_duration"===P.timerType&&P.duration?(P.durationUpdatedAt&&P.durationUpdatedAt>0?P.durationUpdatedAt:Date.now())+60*P.duration*1e3:A?new Date(A).getTime():S?new Date(S).getTime()+1728e5:Date.now()+1728e5,n=(e,i,n,s)=>{const o=`\n              display: flex;\n              width: calc(32px * var(--announcekit-bar-scale, 1));\n              height: calc(32px * var(--announcekit-bar-scale, 1));\n              box-sizing: border-box;\n              flex-direction: column;\n              justify-content: center;\n              align-items: center;\n              aspect-ratio: 1/1;\n              border: 0.5px solid #${n};\n              border-radius: ${"circle"===e?"50%":"calc(8px * var(--announcekit-bar-scale, 1))"};\n              color: #${n};\n              box-shadow: \n                0\n                calc(2px * var(--announcekit-bar-scale, 1))\n                calc(6px * var(--announcekit-bar-scale, 1))\n                ${s};\n            `,r="circle"===e?"font-size: calc(7px * var(--announcekit-bar-scale, 1)); font-weight: 400; line-height: normal; letter-spacing: -0.15px;":"font-size: calc(8px * var(--announcekit-bar-scale, 1)); font-weight: 500; line-height: normal; letter-spacing: -0.15px;",a=[[i.days,"DAYS"],[i.hours,"HOURS"],[i.minutes,"MIN"],[i.seconds,"SEC"]];this.timer.innerHTML=a.map((t=>{let[e,i]=t;return`\n          <div style="${o}">\n            <div style="font-size: calc(10px * var(--announcekit-bar-scale, 1)); font-weight: 500; line-height: normal; letter-spacing: -0.15px;">${String(e).padStart(2,"0")}</div>\n            <div style="${r}">${i}</div>\n          </div>\n        `})).join(""),t()},o=()=>{const t=i(),o=s.replace("#",""),r=parseInt(o.substring(0,2),16),a=parseInt(o.substring(2,4),16),l=parseInt(o.substring(4,6),16),d=`rgba(${r}, ${a}, ${l}, 0.2)`,c=t-Date.now(),h=Math.max(0,c);if(this.timer.style="","blocks_timer"===L)n("rect",v(h),s,d);else if("circular_timer"===L)n("circle",v(h),s,d);else{const t=h>0?(t=>{if(t<=0)return"0m";const e=Math.floor(t/1e3),i=Math.floor(e/60),n=Math.floor(i/60),s=Math.floor(n/24),o=n%24,r=i%60,a=[];return s>0&&a.push(`${s}d`),o>0&&a.push(`${o}h`),(r>0||0===a.length)&&a.push(`${r}m`),a.join(" ")})(h):"0d 0h 0m";this.timer.innerHTML=`\n  <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <g clip-path="url(#clip0_6153_22154)">\n  <path d="M19.1831 12.051L18.4023 11.9527C18.4416 11.6384 18.4613 11.3193 18.4613 11C18.4613 10.6857 18.4416 10.3666 18.4023 10.0522L19.1831 9.9541C19.2273 10.2978 19.247 10.6514 19.247 11C19.2519 11.3537 19.2273 11.7071 19.1831 12.051Z" fill="currentColor"/>\n  <path d="M17.6452 15.8861L17.0117 15.4196C17.3849 14.9088 17.6944 14.3588 17.93 13.7744L18.6617 14.0691C18.4015 14.7124 18.0627 15.3262 17.6452 15.8861Z" fill="currentColor"/>\n  <path d="M14.4345 18.5037L14.1055 17.7915C14.6801 17.5264 15.2203 17.1925 15.7113 16.7947L16.2072 17.4037C15.6623 17.8456 15.0679 18.2139 14.4345 18.5037Z" fill="currentColor"/>\n  <path d="M8.29333 14.6536L7.73828 14.0938L10.6062 11.2308V5.89282H11.392V11.5549L8.29333 14.6536Z" fill="currentColor"/>\n  <path d="M19.2489 8.25001H15.3203V7.46434H18.4633V4.32153H19.2489V8.25001Z" fill="currentColor"/>\n  <path d="M11 19.25C6.45275 19.25 2.75 15.5473 2.75 11C2.75 6.45275 6.45275 2.75 11 2.75C13.2491 2.75 15.3509 3.63882 16.9175 5.25446L19.142 7.58701L18.5724 8.12723L16.3526 5.79958C14.9384 4.34104 13.033 3.53567 11 3.53567C6.88478 3.53567 3.53567 6.88478 3.53567 11C3.53567 15.1152 6.88478 18.4643 11 18.4643C11.4371 18.4643 11.879 18.4251 12.3062 18.3514L12.4437 19.1273C11.9723 19.2058 11.4861 19.25 11 19.25Z" fill="currentColor"/>\n  </g>\n  <defs>\n  <clipPath id="clip0_6153_22154">\n  <rect width="16.5" height="16.5" fill="currentColor" transform="translate(2.75 2.75)"/>\n  </clipPath>\n  </defs>\n  </svg>\n<span class="${y}-timer-text">${t}</span>`,e(s,r,a,l)}c<=0&&this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)};o(),this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=setInterval(o,1e3)}else this.timer.style.display="none",this.timer.innerHTML="",this.timerInterval&&clearInterval(this.timerInterval);const G=["rotate","zoom-out","zoom-in","rubber-band","flash","bounce","shake","glow","slide","pulse","gradient-shift"];if(G.forEach((t=>{this.bar.classList.remove(t)})),j&&M){const t=M.replace(/_/g,"-");G.includes(t)&&this.bar.classList.add(t)}Object.assign(this.bar.style,U);const J={left:"flex-start",center:"center",right:"flex-end"};this.contentWrapper&&(this.contentWrapper.style.justifyContent=J[z]||J.center),this.bar&&this.bar.classList.contains(`${this.cssid}-active`)&&this._updateBodyPadding(i,n,d),this.isNotifyEndUsers&&(_=1),this.conf.landingMode||this.showdelaytimer||(this.state.preview?this._show():this.showdelaytimer=setTimeout(this._show,1e3*_))}),(t=>({disabled:!!t.widget.options["booster-common-disabled"]||!!t.widget.options["booster-bar-disabled"],sticky:!t.widget.options["booster-bar-absolute"],bottom:!!t.widget.options["booster-bar-bottom"],showLabel:!t.widget.options["booster-bar-hide-label"],cta:t.widget.options["booster-bar-cta"],showunread:"unread"==t.widget.options["booster-bar-visibility"],backgroundColor:String(t.widget.options["booster-bar-background-color"]||"5b64af"),color:String(t.widget.options["booster-bar-color"]||"ebf5ff"),fontSize:String(t.widget.options["booster-bar-font-size"]||"1"),borderRadius:String(t.widget.options["booster-bar-border-radius"]||"0"),shadowSize:String(t.widget.options["booster-bar-shadow-size"]||"20"),topbarScaling:String(t.widget.options["booster-bar-scaling"]||"48"),showdelay:Number(t.widget.options["booster-bar-show-delay"]),hidedelay:Number(t.widget.options["booster-bar-hide-delay"]),title:t.boosterPosts?.bar?.title,url:t.boosterPosts?.bar?.url,labelName:t.boosterPosts?.bar?.labels?.[0]?.name,labelColor:t.boosterPosts?.bar?.labels?.[0]?.color,visibleAt:t.boosterPosts?.bar?.visible_at||t.widget.overrideState?.visible_at||0,includeIcon:t.widget.options?.includeIcon||t.boosterPosts?.bar?.includeIcon,icon:t.widget.options?.icon||t.boosterPosts?.bar?.icon,showCountdownTimer:t.widget.options?.showCountdownTimer||t.boosterPosts?.bar?.showCountdownTimer,countdownTimer:t.widget.options?.countdownTimer||t.boosterPosts?.bar?.countdownTimer,timerStyle:t.widget.options?.countdownTimer?.timerStyle||"blocks_timer",expireAt:t.boosterPosts?.bar?.expire_at||t.widget.overrideState?.expire_at,enableActionButton:t.widget.options?.enableActionButton||t.boosterPosts?.bar?.enableActionButton,actionButton:t.widget.options?.actionButton||t.boosterPosts?.bar?.actionButton,enableAnimatedBackground:t.widget.options?.enableAnimatedBackground||t.boosterPosts?.bar?.enableAnimatedBackground||!1,animationType:t.widget.options?.animatedBackground?.animationType||t.boosterPosts?.bar?.animatedBackground?.animationType,font:t.widget.options?.typography?.font||t.boosterPosts?.bar?.typography?.font||"Inter",textAlignment:t.widget.options?.typography?.textAlignment||t.boosterPosts?.bar?.typography?.textAlignment||"center",overrideState:t.widget.overrideState,notifyState:t.widget.notify,unread:t.ui.unreadCount,lastRead:t.userData?.lastRead||0,boostersViewsMap:t.ui.boostersViewsMap})))})),n(this,"hidetimer",null),n(this,"_show",(()=>{this.hidetimer&&(clearTimeout(this.hidetimer),this.hidetimer=null);const t=!this.state.widget.options["booster-bar-absolute"],e=!!this.state.widget.options["booster-bar-bottom"];if(t&&!e){let t=parseFloat(String(this.state.widget.options["booster-bar-scaling"]||"48"));this.bar&&this.bar.offsetHeight>0&&(t=this.bar.offsetHeight),document.documentElement.style.setProperty("--announcekit-bar-height",`${t}px`)}document.body.classList.add(`${this.cssid}-body`),this.bar.classList.add(`${this.cssid}-inactive`),setTimeout((()=>{if(this.bar.classList.remove(`${this.cssid}-inactive`),this.bar.classList.add(`${this.cssid}-active`),t&&!e&&this.bar.offsetHeight>0){const t=this.bar.offsetHeight;document.documentElement.style.setProperty("--announcekit-bar-height",`${t}px`)}}),50);const i=Number(this.state.widget.options["booster-bar-hide-delay"]);i>0&&!this.state.preview&&!this.isNotifyEndUsers&&setTimeout(this._hide,1e3*i),this.parent.sendBeacon({event_type:this.isNotifyEndUsers?"popups-show":"widget-booster-show",custom_1:"bar",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-show",{boster:"bar",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),n(this,"show",this._show),n(this,"_hide",(()=>{this.hidetimer||(this.bar.classList.remove(`${this.cssid}-active`),this.bar.classList.add(`${this.cssid}-inactive`),document.documentElement.style.setProperty("--announcekit-bar-height","0px"),this.hidetimer=setTimeout((()=>{document.body.classList.remove(`${this.cssid}-body`),this.bar.classList.remove(`${this.cssid}-inactive`),this.hidetimer=null}),500))})),n(this,"hide",this._hide),n(this,"_createCSS",(()=>{let t=Math.random().toString(36).substr(2,9).toLowerCase();this.state.preview&&(t="preview");let e=m(`\n      .${y}-${t}-body {\n        padding-top: var(--announcekit-bar-height, 0px) !important;\n        transition: padding-top 0.5s cubic-bezier(0, 1, 0.5, 1);\n      }\n\n      .${y}-${t} {\n        position: absolute;\n        border-radius: calc(var(--announcekit-bar-border-radius, 0px) * var(--announcekit-bar-scale));\n        z-index: 2147483000;\n        display: none;\n        cursor: default !important;\n        left: 0px;\n        right: 0px;\n        width: auto;\n        height: calc(var(--announcekit-bar-font-multiplier, 1) * 2.5rem);\n        font-size: calc(var(--announcekit-bar-font-multiplier, 1) * 1rem);\n        align-items: center;\n        text-decoration: none;\n        top: 0;\n        transition-duration: .5s;\n        transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n        flex-wrap: nowrap;\n      }\n\n      .${y}-${t}-inactive {\n        display: flex;\n        transform: translateY(-100%);\n        opacity: 0;\n      }\n\n      .${y}-${t} .${y}-content {\n        font-family: var(--announcekit-bar-font-family);\n        gap: calc(12px * var(--announcekit-bar-scale, 1));\n        display: flex;\n        align-items: center;\n        flex: 1;\n        min-width: 0; /* for text ellipsis */\n      }\n\n      span.${y}-action-button:not(:empty) {\n        display: flex !important;\n        cursor: pointer !important;\n        align-items: center;\n        /* keep height with padding */\n        box-sizing: border-box;\n\n        height: calc(32px * var(--announcekit-bar-scale, 1));\n        padding: calc(4px * var(--announcekit-bar-scale, 1)) calc(6px * var(--announcekit-bar-scale, 1));\n\n        font-size: calc(14px * var(--announcekit-bar-font-multiplier, 1));\n        font-weight: 600;\n\n        border: 1px solid currentColor;\n        border-radius: calc(4px * var(--announcekit-bar-scale, 1));\n\n        white-space: nowrap;\n        text-align: center;\n\n        box-shadow: 0\n        calc(10.55px * var(--announcekit-bar-scale, 1))\n        calc(52.73px * var(--announcekit-bar-scale, 1))\n        0\n        color-mix(in srgb, currentColor 20%, transparent);\n      }\n\n      span.${y}-cta {\n        cursor: pointer !important;\n        background-color: rgba(255,255,2555, 0.15);\n        border-radius: 3px;\n        padding: 3px 5px;\n        font-size: 0.7em;\n        display: none;\n        transition: 0.1s linear all;\n        line-height: 1;\n        font-weight: 600;\n      }\n\n      .${y}-${t} .${y}-title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-size: calc(14px * var(--announcekit-bar-font-multiplier, 1));\n        font-style: normal;\n        font-weight: 500;\n        line-height: 24px;\n      }\n\n      .${y}-${t} .${y}-icon {\n        svg {\n          width: calc(21px * var(--announcekit-bar-scale, 1));\n          height: calc(21px * var(--announcekit-bar-scale, 1));\n        }\n      }\n\n      .${y}-${t} .${y}-timer {\n        align-items: center;\n        gap: 4px !important;\n      }\n\n      .${y}-${t} .${y}-timer svg {\n        width: calc(16.5px * var(--announcekit-bar-scale, 1));\n        height: calc(16.5px * var(--announcekit-bar-scale, 1));\n        padding: calc(2.75px * var(--announcekit-bar-scale, 1));\n        justify-content: center;\n        align-items: center;\n        aspect-ratio: 1/1;\n      }\n\n      .${y}-${t} .${y}-timer-text {\n        font-size: calc(14px * var(--announcekit-bar-scale));\n        text-align: center;\n        font-weight: 500;\n        line-height: normal;\n      }\n\n      .${y}-${t}:hover span.${y}-cta {\n        background-color: rgba(255,255,2555, 0.2);\n      }\n\n      .${y}-${t} .${y}-close {\n        cursor: pointer !important;\n        svg {\n          width: calc(28px * var(--announcekit-bar-scale, 1));\n          height: calc(28px * var(--announcekit-bar-scale, 1));\n          aspect-ratio: 1/1;\n        }\n        line-height: 1;\n      }\n\n      .${y}-${t}-active {\n        display: flex;\n        transform: translateY(0);\n        opacity: 1;\n      }\n\n      /* Rotate Animation */\n      @keyframes rotate {\n        0% { transform: rotate(0deg); }\n        25% { transform: rotate(-5deg); }\n        75% { transform: rotate(5deg); }\n        100% { transform: rotate(0deg); }\n      }\n      .${y}-${t}.rotate {\n        animation: rotate 1s ease-in-out;\n      }\n\n      /* Zoom Out Animation */\n      @keyframes zoom-out {\n        0% { transform: scale(1.2); opacity: 0; }\n        100% { transform: scale(1); opacity: 1; }\n      }\n      .${y}-${t}.zoom-out {\n        animation: zoom-out 0.5s ease-out;\n      }\n\n      /* Zoom In Animation */\n      @keyframes zoom-in {\n        0% { transform: scale(0.8); opacity: 0; }\n        100% { transform: scale(1); opacity: 1; }\n      }\n      .${y}-${t}.zoom-in {\n        animation: zoom-in 0.5s ease-out;\n      }\n\n      /* Rubber Band Animation */\n      @keyframes rubber-band {\n        0% { transform: scale(1); }\n        30% { transform: scale(1.25, 0.75); }\n        40% { transform: scale(0.75, 1.25); }\n        50% { transform: scale(1.15, 0.85); }\n        65% { transform: scale(0.95, 1.05); }\n        75% { transform: scale(1.05, 0.95); }\n        100% { transform: scale(1); }\n      }\n      .${y}-${t}.rubber-band {\n        animation: rubber-band 1s ease-in-out;\n      }\n\n      /* Flash Animation */\n      @keyframes flash {\n        50%, 100% { opacity: 1; }\n        25%, 75% { opacity: 0.5; }\n      }\n      .${y}-${t}.flash {\n        animation: flash 1.5s ease-in-out infinite;\n      }\n\n      /* Bounce Animation */\n      @keyframes bounce {\n        0%, 20%, 53%, 80%, 100% { transform: translateY(0); }\n        40%, 43% { transform: translateY(-8px); }\n        70% { transform: translateY(-4px); }\n      }\n      .${y}-${t}.bounce {\n        animation: bounce 1s ease-in-out;\n      }\n\n      /* Shake Animation */\n      @keyframes shake {\n        0%, 100% { transform: translateX(0); }\n        10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }\n        20%, 40%, 60%, 80% { transform: translateX(2px); }\n      }\n      .${y}-${t}.shake {\n        animation: shake 0.6s ease-in-out;\n      }\n\n      /* Universal Glow Animation */\n      @keyframes glow {\n        0% {\n          filter:\n            drop-shadow(0 0 10px rgba(255, 255, 255, 0.25))\n            drop-shadow(0 0 22px rgba(0, 0, 0, 0.18));\n        }\n        100% {\n          filter:\n            drop-shadow(0 0 18px rgba(255, 255, 255, 0.35))\n            drop-shadow(0 0 44px rgba(0, 0, 0, 0.25));\n        }\n      }\n\n      .${y}-${t}.glow {\n        animation: glow 1.4s ease-in-out infinite alternate;\n        will-change: filter;\n      }\n\n      /* Slide Animation */\n      @keyframes slide {\n        0% { background-position: -200% 0%; }\n        100% { background-position: 200% 0%; }\n      }\n\n      @keyframes slide {\n        0% { background-position: -200% 0%; }\n        100% { background-position: 200% 0%; }\n      }\n\n      .${y}-${t}.slide {\n        /* Shimmer overlay */\n        background-image: linear-gradient(\n          90deg,\n          rgba(255,255,255,0.15) 0%,\n          rgba(255,255,255,0.45) 50%,\n          rgba(255,255,255,0.15) 100%\n        );\n\n        background-size: 200% 100%;\n        background-repeat: no-repeat;\n        animation: slide 2s linear infinite;\n      }\n\n      /* Pulse Animation */\n      @keyframes pulse {\n        0% { transform: scale(1); }\n        50% { transform: scale(1.05); }\n        100% { transform: scale(1); }\n      }\n      .${y}-${t}.pulse {\n        animation: pulse 2s ease-in-out infinite;\n      }\n\n      /* Gradient Shift Animation */\n      @keyframes gradient-shift {\n      0% { background-position: 0% 50%; }\n      50% { background-position: 100% 50%; }\n      100% { background-position: 0% 50%; }\n      }\n      .gradient-shift {\n      background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n      background-size: 400% 400%;\n      animation: gradient-shift 3s ease infinite;\n      }\n    `);return this.on("destroy",(()=>{e.parentElement?.removeChild(e)})),`${y}-${t}`})),this.cssid=this._createCSS(),this.bar=document.createElement("a"),this.bar.className=`${this.cssid} ${y}`,this.isNotifyEndUsers=this.state.boosterPosts&&this.state.boosterPosts.bar&&this.state.boosterPosts.bar.type===b.NOTIFICATION,t.state.boosterPosts&&t.state.boosterPosts.bar&&"notification"===t.state.boosterPosts.bar.type?(this.bar.href="javascript:void(0)",this.bar.target="_self"):(this.bar.href=t.state.feed.url,this.bar.target="_blank"),this.bar.innerHTML=x,this.label=this.bar.querySelector(`.${y}-label`),this.contentWrapper=this.bar.querySelector(`.${y}-content`),this.icon=this.bar.querySelector(`.${y}-icon`),this.title=this.bar.querySelector(`.${y}-title`),this.actionButton=this.bar.querySelector(`.${y}-action-button`),this.cta=this.bar.querySelector(`.${y}-cta`),this.timer=this.bar.querySelector(`.${y}-timer`),document.body.appendChild(this.bar),this.bar.addEventListener("click",(t=>{if(t.target.closest(`.${y}-close`))return t.preventDefault(),t.stopImmediatePropagation(),void(this.state.preview?this._hide():(this._hide(),this.conf.landingMode||this.parent?.setRead()));const e=t.target.classList.contains(`${y}-action-button`)||t.target.closest(`.${y}-action-button`)||t.target.classList.contains(`${y}-cta`)||t.target.closest(`.${y}-cta`),i=this.state.widget.options?.enableActionButton||this.state.boosterPosts?.bar?.enableActionButton,n=this.state.widget.options?.actionButton||this.state.boosterPosts?.bar?.actionButton;if(e&&i&&n)if("open_widget_selected_post"===n.actionType&&n.selectedPostId){t.preventDefault(),t.stopPropagation(),this.parent?.open();const e={id:n.selectedPostId};this.parent?.showPost(e,{singular:!0})}else if("open_widget_feature_request"===n.actionType){t.preventDefault(),t.stopPropagation(),this.parent?.open();const e="modern"===this.state.widget?.layout,i=()=>{e?this.frame.postMessage({event:"R2L_SET_CURRENT_PAGE",payload:{page:"feature-requests"}}):this.frame.postMessage({event:"R2L_SET_FEATURE_REQUEST",payload:{visible:!0}})};this.frame.ready?i():this.frame.one("L2R_READY",i),this.parent?.setRead()}else if("open_widget_selected_feature_request"===n.actionType&&n.selectedFeatureRequestId){t.preventDefault(),t.stopPropagation(),this.parent?.open();const e=()=>{this.frame.postMessage({event:"R2L_SHOW_FEATURE_REQUEST",payload:{id:n.selectedFeatureRequestId}})};this.frame.ready?e():this.frame.one("L2R_READY",e),this.parent?.setRead()}else"redirect_changelog"===n.actionType?(t.preventDefault(),t.stopPropagation(),window.open(this.state.feed?.url,"_blank"),this.parent?.setRead()):"redirect_url"===n.actionType&&n.redirectUrl?(t.preventDefault(),t.stopPropagation(),n.openInNewTab?window.open(n.redirectUrl,"_blank"):window.location.href=n.redirectUrl,this.parent?.setRead()):this.parent?.setRead();else{let e=this.state.widget.options["booster-bar-action"];"widget"!=e&&"widget-single-post"!=e||this.isNotifyEndUsers?this.parent?.setRead():(t.preventDefault(),this.parent?.open(),this.parent?.showPost(this.post,{singular:"widget-single-post"==e}))}this.parent.sendBeacon({event_type:this.isNotifyEndUsers?"popups-click":"widget-booster-click",custom_1:"bar",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-click",{boster:"bar",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),this.on("destroy",(()=>{this.timerInterval&&clearInterval(this.timerInterval),document.body.removeChild(this.bar)})),this._configure()}_shouldPushContentDown(t,e){return t&&!e}_updateBodyPadding(t,e,i){if(this._shouldPushContentDown(t,e)){const t=this.bar&&this.bar.offsetHeight>0?this.bar.offsetHeight:parseFloat(i)||48;document.documentElement.style.setProperty("--announcekit-bar-height",`${t}px`)}else document.documentElement.style.setProperty("--announcekit-bar-height","0px")}}const k="announcekit-booster-modal",S=`\n<div class="${k}-header">\n  <span class="${k}-title"></span>\n  <span class="${k}-close">&times;</span>\n</div>\n<div class="${k}-body"></div>\n<div class="${k}-footer">\n<div>\n`,_="announcekit-booster-modal",C=`\n  <div class="${_}-header">\n    <span class="${_}-label"></span>\n    <span class="${_}-title"></span>\n    <span class="${_}-close">&times;</span>\n  </div>\n  <div class="${_}-body"></div>\n  <div class="${_}-footer">\n    <a href="#" target="_blank" class="${_}-referer-link">${E="⚡️ by AnnounceKit","utf-8"==document.characterSet.toLowerCase()?E:E.replace("⚡️","Powered")}</a>\n  <div>\n`;var E;class O extends a{get type(){return"modal"}constructor(t){super(t),n(this,"modal",void 0),n(this,"label",void 0),n(this,"title",void 0),n(this,"body",void 0),n(this,"footer",void 0),n(this,"reflink",void 0),n(this,"isTypeNotify",void 0),n(this,"isNotifyEndUsers",void 0),n(this,"cssid",void 0),n(this,"showdelaytimer",void 0),n(this,"hidedelaytimer",void 0),n(this,"_configure",(()=>{this.watchState((t=>{let{disabled:e,color:i,backgroundColor:n,title:s,summary:o,url:r,labelName:a,fontSize:l,showLabel:d,labelColor:c,unread:h,showdelay:p,position:u,lastRead:g,visibleAt:b,boostersViewsMap:w}=t;if(e||!s)return this._hide();const y=this.state.boosterPosts.modal.notify_interaction;if(this.isNotifyEndUsers&&y===f.SEEN_ONCE&&w.modal&&w.modal.count>0)return this._hide();if(!this.state.preview&&!this.isNotifyEndUsers&&(!this.conf.landingMode&&new Date(b).getTime()<=Number(g)||!h))return this._hide();document.documentElement.style.setProperty("--announcekit-modal-font-multiplier",l),this.state.project?.is_whitelabel&&(this.footer.style.display="none");let v={backgroundColor:`#${n}`,color:`#${i}`};if(this.isTypeNotify||(a&&d?(this.label.innerText=this.state.locale.$label[a]||a,Object.assign(this.label.style,{backgroundColor:`#${c}20`,borderRadius:"3px",padding:"0.2em 0.5em",color:`#${c}`,textTransform:"uppercase",marginRight:"5px",fontSize:"0.65em",fontWeight:"500",visibility:""})):this.label.style.display="none"),this.title.innerText=this.state.widget.overrideState&&this.state.widget.overrideState.title?this.state.widget.overrideState.title:s,this.body.innerHTML=this.state.widget.overrideState&&this.state.widget.overrideState.summary?this.state.widget.overrideState.summary:o,this.state.boosterPosts&&this.state.boosterPosts.modal&&"notification"===this.state.boosterPosts.modal.type){const t=this.state.boosterPosts.modal.redirectUrl;t?(this.modal.href=t,this.modal.target="_blank"):(this.modal.href="javascript:void(0)",this.modal.target="_self")}else if(this.state.widget.overrideState){const t=this.state.widget.overrideState.url;t?(this.modal.href=t,this.modal.target="_blank"):(this.modal.href="javascript:void(0)",this.modal.target="_self")}else this.modal.href=r,this.modal.target="_blank";const x={left:"0",right:"0",transform:""};switch(screen.width<700?"mobile":u){case"mobile":delete x.left,delete x.right;break;case"bottomcenter":x.left="50%",x.transform="translate(-50%)",x.right=this.isTypeNotify?"auto":"1em",this.isTypeNotify||delete x.right;break;case"bottomright":x.right="1em",x.left="auto";break;default:x.left="1em",x.right=this.isTypeNotify?"auto":"1em",this.isTypeNotify||delete x.right}if(Object.assign(this.modal.style,x,v),this.isNotifyEndUsers&&(p=1),this.conf.landingMode||this.showdelaytimer||(this.state.preview?this._show():this.showdelaytimer=setTimeout(this._show,1e3*p)),!this.state.widget.options)return;let $="";if(this.state.widget.options["booster-modal-title"]&&($+=`\n          .${_}-title {\n            color: #${this.state.widget.options["booster-modal-title"]};\n          }\n        `),this.state.widget.options["booster-modal-body"]&&($+=`\n          .${_}-body {\n            color: #${this.state.widget.options["booster-modal-body"]};\n          }\n        `),this.state.widget.options["booster-modal-shadow-color"]&&($+=`\n          .${_} {\n            box-shadow: 0 1px 7px 0 #${this.state.widget.options["booster-modal-shadow-color"]};\n          }\n        `),this.state.widget.options["booster-modal-border-radius"]&&($+=`\n          .${_} {\n            border-radius: calc(0.5 * ${this.state.widget.options["booster-modal-border-radius"]}em);\n          }\n        `),this.state.widget.options["booster-modal-shadow-size"]&&($+=`\n          .${_} {\n            box-shadow: 0 0px ${this.state.widget.options["booster-modal-shadow-size"]}px 0 #${this.state.widget.options["booster-modal-shadow-color"]||"0000002e"};\n          }\n        `),!$)return;const k=m($);this.on("destroy",(()=>{k.parentElement?.removeChild(k)}))}),(t=>({disabled:!!t.widget.options["booster-common-disabled"]||!!t.widget.options["booster-modal-disabled"],sticky:!t.widget.options["booster-modal-absolute"],bottom:!!t.widget.options["booster-modal-bottom"],showLabel:!t.widget.options["booster-modal-hide-label"],backgroundColor:String(t.widget.options["booster-modal-background-color"]||"ffffff"),color:String(t.widget.options["booster-modal-color"]||"323232"),titleColor:String(t.widget.options["booster-modal-title"]||String(t.widget.options["booster-modal-color"]||"323232")),bodyColor:String(t.widget.options["booster-modal-body"]||String(t.widget.options["booster-modal-color"]||"323232")),shadowColor:String(t.widget.options["booster-modal-shadow-color"]||"#0000002e"),borderRaduis:String(t.widget.options["booster-modal-border-radius"]||"0.5"),shadowSize:String(t.widget.options["booster-modal-shadow-size"]||"7"),fontSize:String(t.widget.options["booster-modal-font-size"]||"1"),showdelay:Number(t.widget.options["booster-modal-show-delay"]||1),hidedelay:Number(t.widget.options["booster-modal-hide-delay"]||15),position:t.widget.options["booster-modal-position"],title:t.boosterPosts?.modal?.title,url:t.boosterPosts?.modal?.url,summary:t.boosterPosts?.modal?.html_summary,labelName:t.boosterPosts?.modal?.labels?.[0]?.name,labelColor:t.boosterPosts?.modal?.labels?.[0]?.color,visibleAt:t.boosterPosts?.modal?.visible_at||0,overrideState:t.widget.overrideState,unread:t.ui.unreadCount,lastRead:t.userData?.lastRead||0,boostersViewsMap:t.ui.boostersViewsMap})))})),n(this,"hidetimer",null),n(this,"_show",(()=>{this.hidetimer&&(clearTimeout(this.hidetimer),this.hidetimer=null),this.modal.classList.add(`${this.cssid}-inactive`),setTimeout((()=>{this.modal.classList.add(`${this.cssid}-active`),this.modal.classList.remove(`${this.cssid}-inactive`)}),50);const t=Number(this.state.widget.options["booster-modal-hide-delay"]||15);t>0&&!this.state.preview&&!this.isNotifyEndUsers&&setTimeout(this._hide,1e3*t),this.parent.sendBeacon({event_type:this.isNotifyEndUsers?"popups-show":"widget-booster-show",custom_1:"modal",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-show",{boster:"modal",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),n(this,"show",this._show),n(this,"_hide",(()=>{this.hidetimer||(this.modal.classList.remove(`${this.cssid}-active`),this.modal.classList.add(`${this.cssid}-inactive`),this.hidetimer=setTimeout((()=>{this.modal.classList.remove(`${this.cssid}-inactive`),this.hidetimer=null}),500))})),n(this,"hide",this._hide),n(this,"_createCSS",(()=>{let t=Math.random().toString(36).substr(2,9).toLowerCase();this.state.preview&&(t="preview");let e=`\n    .${_}-${t} {\n      box-sizing: border-box;\n      display: none;\n      flex-direction: column;\n      box-shadow: 0 1px 7px 0 rgba(0,0,0,0.18);\n      z-index: 2147484000;\n      cursor: pointer;\n      position: fixed;\n      bottom: 1em;\n      left: 1em;\n      font-size: calc(var(--announcekit-modal-font-multiplier, 1) * 1em);\n      padding: 0.5em;\n      border-radius: ${this.isTypeNotify?"16px":"4px"};\n      max-width: min(calc(100vw - 2em), ${this.isTypeNotify?"264px":"400px"});\n      transition-property: opacity, transform;\n      transition-duration: .5s;\n      transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      text-decoration: none;\n    }\n\n    .${_}-${t} .${_}-header {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      margin-bottom: 0.5em;\n    }\n\n    .${_}-${t} .${_}-close {\n      margin-left: auto;\n      padding: 5px 10px 5px 5px;\n      opacity: 0;\n      transition: .2s linear opacity;\n      color: ${this.isTypeNotify?"#D9E8FF":"black"};\n    }\n\n    .${_}-${t} .${_}-title {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      text-transform: none !important;\n    }\n\n    .${_}-${t}:hover .${_}-close {\n      opacity: 1;\n    }\n\n    .${_}-${t} .${_}-footer {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-end;\n      margin-top: 0.5em;\n      text-decoration: none;\n      font-size: 0.5em;\n    }\n\n    .${_}-${t} .${_}-referer-link {\n      text-decoration: none;\n      color: inherit;\n    }\n\n    .${_}-${t} .${_}-body {\n      line-height: 1.5em;\n      font-size: 0.8em;\n    }\n\n    .${_}-${t}-inactive {\n      display: flex;\n      transform: translateY(100%);\n      opacity: 0;\n    }\n\n    .${_}-${t}-active {\n      display: flex;\n      transform: translateY(0);\n      opacity: 1;\n    }\n  `;this.isTypeNotify&&(e+=`\n      .announcekit-booster-modal-body p {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n      }\n\n      .announcekit-booster-modal-body img {\n        max-width: 100% !important;\n        max-height: 100% !important;\n        \n        margin: 5px auto;\n        display: block;\n        float: none;\n        vertical-align: top;\n      }\n\n      .fr-fir {\n        margin-right: 0;\n        text-align: right;\n      }\n      .fr-fil {\n        margin-left: 0;\n        text-align: left;\n      }\n\n      .${_}-title {\n        font-style: normal;\n        font-weight: 600;\n        color: #202642;\n        font-size: calc(var(--announcekit-modal-font-multiplier, 1) * 1em);\n      }\n      \n      .${_}-body {\n        font-style: normal;\n        font-weight: 500;\n        font-size: 12px;\n        line-height: 150%;\n        color: #667D9F;\n        word-wrap: break-word\n      }\n      `);let i=m(e);return this.on("destroy",(()=>{i.parentElement?.removeChild(i)})),`${_}-${t}`})),this.isNotifyEndUsers=this.state.boosterPosts&&this.state.boosterPosts.modal&&this.state.boosterPosts.modal.type===b.NOTIFICATION,this.isTypeNotify=t.conf.type&&t.conf.type===b.NOTIFICATION||this.isNotifyEndUsers,this.cssid=this._createCSS(),this.modal=document.createElement("a"),this.modal.className=`${this.cssid} ${_}`,this.modal.target="_blank",this.modal.href=t.state.feed.url,this.modal.innerHTML=this.isTypeNotify?S:C,this.label=this.modal.querySelector(`.${_}-label`),this.title=this.modal.querySelector(`.${_}-title`),this.body=this.modal.querySelector(`.${_}-body`),this.footer=this.modal.querySelector(`.${_}-footer`),this.reflink=this.modal.querySelector(`.${_}-referer-link`),document.body.appendChild(this.modal),this.modal.addEventListener("click",(t=>{if(t.target.classList.contains(`${_}-close`))return t.preventDefault(),t.stopImmediatePropagation(),void(this.state.preview||(this._hide(),this.conf.landingMode||this.parent?.setRead()));let e=this.state.widget.options["booster-modal-action"];"widget"!=e&&"widget-single-post"!=e||this.isTypeNotify?this.conf.landingMode||this.parent?.setRead():(t.preventDefault(),this.parent?.open(),this.parent?.showPost(this.post,{singular:"widget-single-post"==e})),this.parent.sendBeacon({event_type:this.isNotifyEndUsers?"popups-click":"widget-booster-click",custom_1:"modal",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-click",{boster:"modal",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),this.on("destroy",(()=>{document.body.removeChild(this.modal)})),this._configure()}}const T=new class{async submitFeedback(t,e,i,n,s,o){return await async function(t,e,i){const n={"content-type":"application/json"};i&&(n["x-csrf-token"]=i);const s=await fetch("https://announcekit.app/gq/v2",{method:"POST",body:JSON.stringify({query:"\n        mutation feedbackToNps ($post_id: ID!, $feedback: String, $score: Int!, $user_id: String, $fields: JSONObject) {\n          feedbackToNps(post_id: $post_id, feedback: $feedback, score: $score, user_id: $user_id, fields: $fields) { feedback, score, post_id }\n        }\n      ",variables:e}),headers:n}),o=await s.json();if(o.errors)throw new Error(o.errors.map((t=>t.message)).join(", "));return o.data}(0,{post_id:t,feedback:e,score:i,user_id:n,fields:s},o)}getPosition(t,e){const i={left:"0",right:"0",transform:""};switch(e<700?"mobile":t){case"mobile":case"bottomcenter":i.left="50%",i.transform="translate(-50%)",i.right="auto";break;case"bottomright":i.right="1em",i.left="auto";break;default:i.left="1em",i.right="auto"}return i}npsInteractionSubmit(t,e,i){return void 0!==e&&(t===w.ONLY_ONCE&&void 0!==i&&i>1||t===w.SUBMIT_RESPONSE&&void 0!==e.score||!(t!==w.UNTIL_CLOSE||!e.close))}npsInteractionCache(t,e,i){if(!t||!t.posts||!t.posts[e])return!1;const n=t.posts[e];return!(i!==w.SUBMIT_RESPONSE||!n.feedback)||!(i!==w.UNTIL_CLOSE||!n.close)||!(i!==w.ONLY_ONCE||!n.seen)}},P=new class{createCSS(t,e,i){let n=`\n    .${t}-${e} {\n      box-sizing: border-box;\n      display: none;\n      flex-direction: column;\n      z-index: 2147484000;\n      cursor: pointer;\n      position: fixed;\n      bottom: 1em;\n      left: 1em;\n      font-size: calc(var(--announcekit-nps-font-multiplier, 1) * 1em);\n      transition-property: opacity, transform;\n      transition-duration: .5s;\n      transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      text-decoration: none;\n      width: 478px;\n      height: 204px;\n      align-items: center;\n    }\n\n    .${t}-${e} .${t}-header {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      margin-bottom: 0.5em;\n      width: 100%;\n      justify-content: center;\n    }\n    .${t}-${e} .${t}-container {\n      box-shadow: 0px 18.494998931884766px 47.45295333862305px 0px rgba(99, 116, 165, 0.20);\n      display: flex;\n      justify-content: center;\n      padding: 24px;\n      flex-direction: column;\n      align-items: center;\n      gap: 16px;\n      border-radius: 16px;\n      background-color: #FFFFFF;\n      cursor: auto;\n      width: 430px;\n      height: 182px;\n      padding: 24px;\n    }\n\n    .${t}-${e} .${t}-close-container {\n      display: flex;\n      padding: 0px 26.8px;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-end;\n      align-self: stretch;\n      width: 421px;\n      height: 21px;\n      cursor: auto;\n    }\n\n    .${t}-${e} .${t}-close {\n      box-shadow: 0px 18.494998931884766px 47.45295333862305px 0px rgba(99, 116, 165, 0.20);\n      display: flex;\n      padding: 9px;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      gap: 9px;\n      border-radius: 5.4px 5.4px 0px 0px;\n      background: #FFF;\n      background-color: #FFFFFF;\n      cursor: pointer;\n    }\n\n    .${t}-${e} .${t}-title {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-line\n    }\n   \n\n    .${t}-${e} .${t}-footer {\n      display: flex;\n      padding: 0px 14.4px;\n      justify-content: center;\n      align-items: center;\n      gap: 7.2px;\n    }\n\n    .${t}-${e} .${t}-referer-link {\n      color: var(--secondary-font-color, #667D9F);\n      font-feature-settings: 'clig' off, 'liga' off;\n      font-family: inherit;\n      font-size: 11.9px;\n      font-style: normal;\n      font-weight: 400;\n      line-height: normal;\n      text-decoration: none;\n      display: flex;\n      padding: 0px 14.4px;\n      justify-content: center;\n      align-items: center;\n      gap: 7.2px;\n      fill: #667D9F;\n    }\n\n    .${t}-${e} .${t}-referer-link:hover {\n      color: #3778FF;\n      fill: #3778FF !important;\n    }\n   \n    .${t}-${e} .${t}-body {\n      line-height: 1.5em;\n      font-size: 0.8em;\n    }\n\n    .${t}-${e}-inactive {\n      display: flex;\n      transform: translateY(100%);\n      opacity: 0;\n    }\n\n    .${t}-${e}-active {\n      display: flex;\n      transform: translateY(0);\n      opacity: 1;\n    }\n  `;return n+=`\n      .announcekit-booster-nps-body p {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n      }\n\n      .${t}-title {\n        color: #000;\n        text-align: center;\n        font-size: 12px;\n        font-style: normal;\n        font-weight: 600;\n        line-height: normal;\n      }\n      \n      .${t}-body {\n        font-style: normal;\n        font-weight: 500;\n        font-size: 12px;\n        line-height: 150%;\n        color: #667D9F;\n        word-wrap: break-word;\n        width: 90% !important;\n        \n      }\n\n      .${t}-body .${t}-votes {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        gap: 12px;\n        width: 100% !important;\n      }\n\n      .${t}-body .${t}-feedback {\n        gap: 16px;\n      }\n\n      .${t}-body .${t}-feedback-submit-container {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        gap: 10px;\n        align-self: stretch;\n      }\n\n      .${t}-body .${t}-feedback-submit-container {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        gap: 10px;\n        align-self: stretch;\n      }\n      .${t}-body .${t}-thanks {\n        width: 430px;\n        height: 60px;\n      }\n\n      .${t}-body .${t}-thanks p {\n        color: var(--primary-main, #3778FF);\n        text-align: center;\n        font-feature-settings: 'clig' off, 'liga' off;\n        font-family: inherit;\n        font-size: 13.7px;\n        font-style: normal;\n        font-weight: 600;\n        line-height: normal;\n        width: 430.428px;\n      }\n\n      .${t}-body .${t}-feedback-submit-container button:nth-child(1) {\n        display: flex;\n        height: 32px;\n        padding: 4px 16px;\n        flex-direction: column;\n        justify-content: center;\n        align-items: flex-start;\n        gap: 10px;\n        border-radius: 4px;\n        box-shadow: 0px 1px 2px 0px #FFF;\n        font-family: inherit;\n        font-size: 13px;\n        font-style: normal;\n        font-weight: 600;\n        line-height: 24px;\n        border: none;\n        background-color: white;\n        cursor: pointer;\n      }\n      .${t}-body .${t}-feedback-submit-container button:nth-child(2) {\n        display: flex;\n        padding: 4px 16px;\n        flex-direction: column;\n        justify-content: center;\n        align-items: flex-start;\n        gap: 10px;\n        border-radius: 4px;\n        border: 1px solid var(--primary-main, #3778FF);\n        box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.14);\n        color: var(--primary-main, #3778FF);\n        font-family: inherit;\n        font-size: 13px;\n        font-style: normal;\n        font-weight: 600;\n        line-height: 24px;\n        background-color: white;\n        cursor: pointer;\n      }\n\n      .${t}-body .${t}-feedback .${t}-feedback-input-container textarea  {\n        display: flex;\n        justify-content: center;\n        align-items: flex-start;\n        gap: 7px;\n        align-self: stretch;\n        resize: none;\n        display: flex;\n        height: inherit;\n        padding: 14.4px;\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 9px;\n        flex: 1 0 0;\n        border-radius: 3.6px;\n        border: 0.9px solid var(--input-border, #C5DCFF);\n        font-feature-settings: 'clig' off, 'liga' off;\n        font-family: inherit;\n        font-size: 10.8px;\n        font-style: normal;\n        font-weight: 500;\n        line-height: 21.6px;\n        width:400px\n      }\n      .${t}-body .${t}-feedback .${t}-feedback-input-container textarea:focus {\n        outline: none !important;\n      }\n\n      .${t}-body .${t}-votes-btns-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        gap: 6px;\n        align-self: stretch;\n        width: 100% !important;\n      }\n\n      .${t}-body .${t}-votes-btn {\n        color: #3778FF;\n        display: flex;\n        width: 30px !important;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        gap: 10px;\n        border-radius: 4px;\n        border: 1px solid var(--primary-main, #3778FF);\n        height: 26px !important;\n        cursor: pointer;\n      }\n      .${t}-body .${t}-votes-btn:hover, .${t}-votes-btn-active {\n        color: white !important;\n        border-color: white !important;\n      }\n\n      .${t}-body .${t}-votes-btns-container button:nth-child(n+1):nth-child(-n+7):hover, .${t}-body .${t}-votes-btns-container .${t}-votes-btn-active:nth-child(n+1):nth-child(-n+7)  {\n        background: #FF5353;\n      }\n\n      .${t}-body .${t}-votes-btns-container button:nth-child(n+8):nth-child(-n+9):hover, .${t}-body .${t}-votes-btns-container .${t}-votes-btn-active:nth-child(n+8):nth-child(-n+9) {\n        background: #FF9E44;\n      }\n\n      .${t}-body .${t}-votes-btns-container button:nth-child(n+10):nth-child(-n+11):hover, .${t}-body .${t}-votes-btns-container .${t}-votes-btn-active:nth-child(n+10):nth-child(-n+11) {\n        background: #2BD65A;\n      }\n\n      .${t}-body .${t}-votes-impression {\n        display: flex;\n        width: 100%;\n        height: 8px;\n        justify-content: space-between;\n        align-items: flex-start;\n      }\n      .${t}-body .${t}-votes-impression span {\n        font-size: 11px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: normal;\n      }\n\n      @media only screen and (max-width: 768px) {\n        .${t}-close-container {\n          width: 81% !important;\n        }\n\n        .${t}-container {\n          width: 325px !important;\n        }\n\n        .${t}-body .${t}-feedback .${t}-feedback-input-container textarea {\n          width: 270px;\n        }\n      }\n\n      `,n}asignedColor(t,e){return{backgroundColor:`#${t}`,color:`#${e}`}}getCustomStyle(t,e,i,n,s,o,r,a){let l=`\n      .${a}-container {\n        background-color: #${e} !important;\n      }\n\n      .${a}-close {\n        background-color: #${e} !important;\n        path {\n          fill: #${s}\n        }\n      }\n\n      .${a}-title{\n        color: #${t};\n      }\n\n      .${a}-votes-impression span {\n        color: #${i};\n      }\n\n      .${a}-referer-link {\n        color: #${i} !important;\n      }\n      .${a}-body .${a}-feedback-submit-container button:nth-child(1) {\n        color: #${i};\n      }\n\n      .${a}-votes-btns-container button {\n        color: #${n} !important;\n        border: 1px solid var(--primary-main, #${s}) !important;\n        background-color: #${e};\n      }\n\n      .${a}-body .${a}-feedback-submit-container button:nth-child(1) {\n        background-color: #${e};\n        box-shadow: none;\n      }\n\n      .${a}-body .${a}-feedback-submit-container button:nth-child(2) {\n        color: #${n} !important;\n        border: 1px solid var(--primary-main, #${s}) !important;\n        background-color: #${e} !important;\n      }\n\n      .${a}-feedback-input-container textarea  {\n        background-color: #${e} !important;\n      }\n\n      .${a}-feedback-input-container textarea::placeholder  {\n        color: #${i};\n      }\n      \n      .${a}-thanks p {\n        color: #${n} !important;\n      }\n    `;return 0!==r&&(l+=`\n      .${a}-container {\n        box-shadow: 0 0px ${r}px 0 #${o||"6374A5"} !important;\n      }\n\n      .${a}-close {\n        box-shadow: 0 0px ${r}px 0 #${o||"6374A5"} !important;\n      }\n    `),l}};let L;!function(t){t.MAIN="MAIN",t.FEEDBACK="FEEDBACK",t.THANKS="THANKS"}(L||(L={}));const A="announcekit-booster-nps",F={},N=`\n<div class="${A}-close-container">\n  <div class="${A}-close ${A}-close-clicked"><svg class="${A}-close-clicked" width="17" height="17" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.5033 12.5415L15.4537 9.59105C15.5734 9.47061 15.6406 9.30769 15.6406 9.13788C15.6406 8.96806 15.5734 8.80514 15.4537 8.68471C15.3939 8.62446 15.3229 8.57664 15.2445 8.544C15.1662 8.51137 15.0822 8.49457 14.9973 8.49457C14.9125 8.49457 14.8284 8.51137 14.7501 8.544C14.6718 8.57664 14.6007 8.62446 14.5409 8.68471L11.5969 11.6416C11.5372 11.7018 11.4661 11.7496 11.3878 11.7823C11.3094 11.8149 11.2254 11.8317 11.1406 11.8317C11.0557 11.8317 10.9717 11.8149 10.8933 11.7823C10.815 11.7496 10.7439 11.7018 10.6842 11.6416L7.74017 8.68471C7.61998 8.56366 7.45663 8.49533 7.28606 8.49472C7.11548 8.49412 6.95165 8.5613 6.83061 8.68149C6.70957 8.80168 6.64123 8.96503 6.64063 9.1356C6.64003 9.30618 6.70721 9.47001 6.8274 9.59105L9.77783 12.5415C10.1394 12.9026 10.6295 13.1054 11.1406 13.1054C11.6516 13.1054 12.1417 12.9026 12.5033 12.5415Z" fill="black"/>\n</svg>\n</div>\n</div>\n<div class="${A}-container">\n  <div class="${A}-header">\n    <span class="${A}-title"></span>\n  </div>\n  <div class="${A}-body"></div>\n  <div class="${A}-footer">\n    <a href="https://announcekit.app/?utm_source=nps" target="_blank" class="${A}-referer-link"><span>Powered by </span> <svg width="13" height="13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.56991 5.95236H7.93502C8.27342 5.95236 8.54903 6.20184 8.54903 6.50834C8.54903 6.81483 8.27342 7.06413 7.93502 7.06413H6.56991C6.23131 7.06413 5.9559 6.81483 5.9559 6.50834C5.9559 6.20184 6.23131 5.95236 6.56991 5.95236ZM4.90772 4.7577L5.873 3.79242C6.11228 3.55313 6.48358 3.53465 6.70031 3.75138C6.91703 3.9681 6.89842 4.33927 6.65913 4.57855L5.69385 5.54383C5.45443 5.78326 5.08341 5.80173 4.86668 5.585C4.64996 5.36828 4.66829 4.99712 4.90772 4.7577ZM5.69385 7.4983L6.65913 8.46358C6.89842 8.70286 6.9169 9.07416 6.70018 9.29088C6.48345 9.50761 6.11228 9.489 5.873 9.24971L4.90772 8.28443C4.66829 8.04501 4.64983 7.67398 4.86655 7.45726C5.08328 7.24054 5.45443 7.25887 5.69385 7.4983ZM6.29587 0.0229492H6.34034C6.82714 0.0248043 7.31682 0.0835489 7.80198 0.200214C9.43798 0.594318 10.8226 1.60287 11.701 3.03995C12.3209 4.05262 12.641 5.21762 12.626 6.40839C12.5745 9.83536 9.67757 12.6229 6.16867 12.6229H0.772031C0.523174 12.6229 0.320218 12.4199 0.320218 12.1705C0.320218 12.0914 0.342038 12.012 0.382794 11.9415L0.954198 10.9727C1.20614 10.5562 1.20614 10.0407 0.955018 9.62574C0.34574 8.62873 0.0308118 7.50804 0.0264893 6.36799V6.31996C0.0283418 5.8329 0.0870065 5.34253 0.20351 4.85712C0.597277 3.21886 1.60423 1.83249 3.03974 0.95297C4.0362 0.342232 5.15657 0.0268655 6.29587 0.0229492ZM1.73123 11.441L1.56389 11.7205H6.16867C9.18912 11.7205 11.6806 9.33243 11.7226 6.39684C11.7434 4.88041 11.1226 3.41447 10.0193 2.37459C8.91433 1.32873 7.41069 0.8025 5.89429 0.930914C4.4559 1.04469 3.14924 1.71232 2.21392 2.81054C1.27901 3.90855 0.826576 5.30543 0.94061 6.74457C1.00751 7.59379 1.28066 8.42879 1.73041 9.15928C2.15382 9.86381 2.15381 10.7378 1.73123 11.441Z" fill/>\n</svg> <span>announcekit</span></a>\n  </div>\n</div>\n`;function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function M(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const I=(t,e)=>{t(e)},z=new class{votePage(t,e,i,n,s,o){const r=document.createElement("div");r.className=`${A}-votes`;const a=document.createElement("div");a.className=`${A}-votes-btns-container`;for(let o=0;o<11;o++){const r=document.createElement("button");r.innerText=`${o}`,r.className=`${A}-votes-btn`,i?.npsScore&&i.npsScore===o&&(r.className+=` ${A}-votes-btn-active`),r.onclick=r=>{r.preventDefault(),e(M(M({},i),{},{npsScore:o})),t(L.FEEDBACK),s&&n()},a.appendChild(r)}r.appendChild(a);const l=document.createElement("div");l.className=`${A}-votes-impression`;const d=document.createElement("span");d.innerText=o?.$nps?.["Very likely"]||"Very likely";const c=document.createElement("span");return c.innerText=o?.$nps?.["Not likely"]||"Not likely",l.appendChild(c),l.appendChild(d),r.appendChild(l),r}feedbackPage(t,e,i,n,s,o){const r=document.createElement("div");r.classList.add(`${A}-votes`,`${A}-feedback`);const a=document.createElement("div");a.className=`${A}-feedback-input-container`;const l=document.createElement("textarea");i.npsFeedback&&(l.innerText=i.npsFeedback),l.placeholder=o?.$nps?.["Please Type Here"]||"Please Type Here",l.onclick=t=>{t.preventDefault()},l.onchange=t=>{t.preventDefault(),e(M(M({},i),{},{npsFeedback:t.target.value}))},a.appendChild(l);const d=document.createElement("div");d.className=`${A}-feedback-submit-container`;const c=document.createElement("button");c.innerText=o?.$nps?.["Submit Feedback"]||"Submit Feedback",c.onclick=e=>{e.preventDefault(),n(),I(t,L.THANKS)};const h=document.createElement("button");return h.innerText=o?.$nps?.Back||"Back",h.onclick=e=>{e.preventDefault(),I(t,L.MAIN)},d.appendChild(h),d.appendChild(c),r.appendChild(a),r.appendChild(d),r}thanksPage(t,e,i,n,s,o){const r=document.createElement("div");r.classList.add(`${A}-votes`,`${A}-thanks`);const a=document.createElement("span");a.innerHTML='<svg width="34" height="33" viewBox="0 0 34 33" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M20.65 13.9393C20.2953 13.5841 19.7194 13.5843 19.3642 13.9393L15.4941 18.2277L13.9532 16.6868C13.5981 16.3317 13.0224 16.3317 12.6672 16.6868C12.3121 17.042 12.3121 17.6176 12.6672 17.9728L14.851 20.1566C15.0285 20.334 15.2612 20.423 15.4939 20.423C15.7266 20.423 15.9595 20.3343 16.137 20.1566L20.65 15.2252C21.0051 14.8703 21.0051 14.2944 20.65 13.9393Z" fill="#3778FF"/>\n<rect x="1.20093" y="0.972992" width="31.4" height="31.4" rx="15.7" stroke="#3778FF"/>\n</svg>\n';const l=document.createElement("p");return l.innerText=o?.$nps?.["Thank you for answering this survey"]||"Thank you for answering this survey",r.appendChild(a),r.appendChild(l),r}votesBodyElement(t,e,i,n,s,o,r){const a={};return a[L.MAIN]=this.votePage,a[L.FEEDBACK]=this.feedbackPage,a[L.THANKS]=this.thanksPage,a[e](t,i,n,s,o,r)}NpsTemplate(){return N}};function R(){let t=function(){let t,e,i=navigator.userAgent;for(let e=0;e<D.length;e++)if(D[e][1].test(i)){t=D[e][0];break}for(let t=0;t<B.length;t++)if(B[t][1].test(i)){e=B[t][0];break}return{agent:t,os:e}}();return{$url:window.location.href,$os:t.os,$agent:t.agent}}const D=[["AOL",/AOLShield\/([0-9\._]+)/],["Edge",/Edge\/([0-9\._]+)/],["Yandex",/YaBrowser\/([0-9\._]+)/],["Vivaldi",/Vivaldi\/([0-9\.]+)/],["Kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["Samsung",/SamsungBrowser\/([0-9\.]+)/],["Silk",/\bSilk\/([0-9._-]+)\b/],["MIUI",/MiuiBrowser\/([0-9\.]+)$/],["Beaker",/BeakerBrowser\/([0-9\.]+)/],["Chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["Firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["Opera Mini",/Opera Mini.*Version\/([0-9\.]+)/],["Opera",/Opera\/([0-9\.]+)(?:\s|$)/],["Opera",/OPR\/([0-9\.]+)(:?\s|$)/],["IE",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["IE",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["IE",/MSIE\s(7\.0)/],["Android",/Android\s([0-9\.]+)/],["Mobile Safari",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["Safari",/Version\/([0-9\._]+).*Safari/],["Facebook",/FBAV\/([0-9\.]+)/],["Instagram",/Instagram\s([0-9\.]+)/],["iOS WebView",/AppleWebKit\/([0-9\.]+).*Mobile/],["iOS WebView",/AppleWebKit\/([0-9\.]+).*Gecko\)$/]],B=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/]];function H(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function W(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?H(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const U=A;class q extends a{get type(){return"nps"}constructor(t){super(t),n(this,"nps",void 0),n(this,"label",void 0),n(this,"title",void 0),n(this,"follow_up_question",void 0),n(this,"body",void 0),n(this,"footer",void 0),n(this,"cssid",void 0),n(this,"showdelaytimer",void 0),n(this,"hidedelaytimer",void 0),n(this,"npsFormSteps",L.MAIN),n(this,"npsFormStepsCurrent",L.MAIN),n(this,"npsFeedback",void 0),n(this,"openCount",void 0),n(this,"skipReasonPreviewer",void 0),n(this,"hideIt",void 0),n(this,"npsState",void 0),n(this,"NPS_STATE_KEY",void 0),n(this,"_configure",(()=>{this.watchState((t=>{let{disabled:e,titleColor:i,backgroundColor:n,bodyColor:s,buttonTextColor:o,buttonBorderColor:r,shadowColor:a,shadowSize:l,title:d,follow_up_question:c,url:h,fontSize:p,showdelay:u,position:g,overrideState:b}=t;if(e||!d)return this.hideIt=!0,this._hide();this.hideIt=!1,(this.state.project?.is_whitelabel||this.npsFormSteps===L.FEEDBACK)&&(this.footer.style.display="none"),this.npsFormSteps===L.THANKS?(this.title.style.display="none",setTimeout((()=>{this._hide()}),3e3)):this.title.innerText=this.npsFormSteps===L.FEEDBACK?c:d,b&&(b.title&&this.npsFormSteps===L.MAIN&&(this.title.innerText=b.title),b.skip_reason&&(this.skipReasonPreviewer=b.skip_reason));const f=T.getPosition(g,screen.width);Object.assign(this.nps.style,f),u=1,this.conf.landingMode||this.showdelaytimer||(this.state.preview?this._show():this.showdelaytimer=setTimeout(this._show,1e3*u));const w=m(P.getCustomStyle(i,n,s,o,r,a,Number(l),U));this.on("destroy",(()=>{w.parentElement?.removeChild(w)}))}),(t=>({disabled:!!t.widget.options["booster-common-disabled"]||!!t.widget.options["booster-nps-disabled"],sticky:!t.widget.options["booster-nps-absolute"],backgroundColor:String(t.widget.options["booster-nps-background-color"]||"ffffff"),titleColor:String(t.widget.options["booster-nps-title-color"]||"000000"),bodyColor:String(t.widget.options["booster-nps-body-color"]||"667D9F"),buttonTextColor:String(t.widget.options["booster-nps-button-text-color"]||"3778FF"),buttonBorderColor:String(t.widget.options["booster-nps-button-border-color"]||"3778FF"),shadowColor:String(t.widget.options["booster-nps-shadow-color"]||"6374A5"),shadowSize:String(t.widget.options["booster-nps-shadow-size"]||"0"),position:t.widget.options["booster-nps-position"]||"bottomcenter",title:t.boosterPosts?.nps?.title,follow_up_question:t.boosterPosts?.nps?.follow_up_question||t?.widget?.overrideState?.follow_up_question||"What's the reason for your score?",url:t.boosterPosts?.nps?.url,overrideState:t.widget.overrideState})))})),n(this,"hidetimer",null),n(this,"_show",(()=>{this.hidetimer&&(clearTimeout(this.hidetimer),this.hidetimer=null),this.nps.classList.add(`${this.cssid}-inactive`),setTimeout((()=>{this.hideIt||(this.nps.classList.add(`${this.cssid}-active`),this.nps.classList.remove(`${this.cssid}-inactive`))}),50),this.parent.sendBeacon({event_type:"widget-booster-show",custom_1:"nps",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-show",{boster:"nps",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),n(this,"show",this._show),n(this,"_hide",(()=>{this.hidetimer||(this.nps.classList.remove(`${this.cssid}-active`),this.nps.classList.add(`${this.cssid}-inactive`),this.nps.classList.remove(`${this.cssid}-inactive`),this.hidetimer=null)})),n(this,"hide",this._hide),n(this,"_createCSS",(()=>{let t=Math.random().toString(36).substr(2,9).toLowerCase();this.state.preview&&(t="preview");let e=m(P.createCSS(U,t,this.npsFormSteps));return this.on("destroy",(()=>{e.parentElement?.removeChild(e)})),`${U}-${t}`})),n(this,"_buildHtml",(()=>{this.nps&&this.nps.remove(),this.cssid=this._createCSS(),this.nps=document.createElement("a"),this.nps.className=`${this.cssid} ${U}`,this.nps.target="_self",this.nps.innerHTML=z.NpsTemplate(),this.label=this.nps.querySelector(`.${U}-label`),this.title=this.nps.querySelector(`.${U}-title`),this.body=this.nps.querySelector(`.${U}-body`),this.footer=this.nps.querySelector(`.${U}-footer`);const t=this.state.locale,e=z.votesBodyElement(this.updateFormSteps,this.npsFormSteps,this.updateNpsFeedback,this.npsFeedback,this.submitFeedback,this.state.boosterPosts.nps.skip_reason,t);this.body.append(e),document.body.append(this.nps);const i=this.state.boosterPosts.nps.notify_interaction,n=T.npsInteractionSubmit(i,this.npsState&&this.npsState[this.post.id],this.openCount),s=T.npsInteractionCache(this.state.userData,this.post.id,i);(n||s)&&this.npsFormSteps===L.MAIN||(this._show(),this.nps.addEventListener("click",(t=>{if(t.target.classList.contains(`${U}-close-clicked`)){if(t.preventDefault(),t.stopImmediatePropagation(),!this.state.preview){let t={};this.npsState&&this.npsState[this.post.id]&&(t=this.npsState[this.post.id]),this.parent.submitNpsFeedback(W(W({},t),{},{post_id:this.post.id,close:!0,user_id:this.state.userData.$id}),this.NPS_STATE_KEY),this.parent.submitNpsClose(this.state.userData.$id,this.post.id),this._hide(),this.conf.landingMode||this.parent?.setRead()}}else this.conf.landingMode||this.parent?.setRead(),this.parent.sendBeacon({event_type:"widget-booster-click",custom_1:"nps",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-click",{boster:"nps",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),this.on("destroy",(()=>{document.body.removeChild(this.nps)})),this._configure())})),n(this,"updateFormSteps",(t=>{this.npsFormSteps=t,(this.state.boosterPosts.nps.skip_reason&&t===L.FEEDBACK||this.skipReasonPreviewer)&&(this.npsFormSteps=L.THANKS),this._buildHtml()})),n(this,"updateNpsFeedback",(t=>{this.npsFeedback=t})),n(this,"submitFeedback",(async()=>{if(this.state.preview)return;await T.submitFeedback(this.post.id,this.npsFeedback.npsFeedback,this.npsFeedback.npsScore,this.state.userData.$id,JSON.stringify(Object.assign({$locale:this.state.locale_id},R())),this.state.boosterPosts.nps.token);let t={};this.npsState&&this.npsState[this.post.id]&&(t=this.npsState[this.post.id]),this.parent.submitNpsScore(this.state.userData.$id,this.post.id),this.parent.submitNpsFeedback(W(W({},t),{},{post_id:this.post.id,score:this.npsFeedback.npsScore,user_id:this.state.userData.$id,close:!0}),this.NPS_STATE_KEY)})),this.NPS_STATE_KEY=`ANNOUNCEKIT_NPS:${this.state.project.id}`;let e=localStorage.getItem(this.NPS_STATE_KEY);this.npsState=e?JSON.parse(e):F;let i={openCount:null},s=1;this.npsState[this.post.id]&&(i=this.npsState[this.post.id],i.openCount&&(s=2)),this.openCount=s,this.npsState=this.parent.submitNpsFeedback(W(W({},i),{},{post_id:this.post.id,openCount:s,user_id:this.state.userData.$id}),this.NPS_STATE_KEY),this.parent.submitNpsSeenOnce(this.state.userData.$id,this.post.id),this._buildHtml()}}const V="L2R_STATE",Y="L2R_READY",K="L2R_RESIZE",X="R2L_PUT_CSS",Z="R2L_SET_THEME",G="NPS_FEEDBACK_ADD";function J(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?J(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const tt=!!navigator.userAgent&&/iPhone|iPod|Android/.test(navigator.userAgent);class et extends o{constructor(t){let{widget:e,data:i,user:s,lang:o,labels:r,name:a,user_token:l,options:d}=t;super(),n(this,"wrapper",void 0),n(this,"frame",void 0),n(this,"src",void 0),n(this,"data",void 0),n(this,"options",void 0),n(this,"state",void 0),n(this,"destroyed",!1),n(this,"ready",void 0),n(this,"id",void 0),n(this,"size",{width:0,height:0}),this.id=a?`ank_widget_${a}`:`ank_widget_${Math.random().toString(36).substr(2,9)}`,this.data={user:s??null,data:i??null,labels:r??null,user_token:l??null,session:R(),mobile:!!tt},this.options=d??{lightweight:!0},o&&(this.data.locale="auto"==o?navigator.language.slice(0,2).toLowerCase():o),this.src=new URL(e),this.src.pathname+="/view",this.state={},this.createFrame(),window.addEventListener("message",(t=>{this.destroyed||t.origin==this.src.origin&&t.source===this.frame.contentWindow&&t.data.event&&this.trigger(t.data.event,t.data)})),this.on(K,(t=>{let{payload:e}=t;this.size.width==e.width&&this.size.height==e.height||(this.size=e,this.trigger("resize",this.size))})),this.on("L2R_LOAD",(t=>{if(this.state=t.payload,this.state.ui?.backgroundColor&&(this.frame.style.backgroundColor=this.state.ui?.backgroundColor),this.state.userData&&"ignore"==this.state.userData.$source)this.postMessage({event:"USERDATA",payload:{$source:"localstorage"}});else{let t=`{announcekit}:${this.state.project.id}`,e=localStorage.getItem(t),i=!0;if(e)try{this.postMessage({event:"USERDATA",payload:Q(Q({},JSON.parse(e)),{},{$source:"localstorage"})}),i=!1}catch(t){}i&&this.postMessage({event:"USERDATA",payload:{$source:"localstorage"}})}this.postMessage({event:"BOOTSTRAP"})})),this.on("L2R_PATCH_STATE",(t=>{this.trigger(V,{payload:Q(Q({},this.state),t.payload)})})),this.on(V,(t=>{this.state=t.payload;let e=`{announcekit}:${this.state.project.id}`;this.state.userData&&"localstorage"==this.state.userData.$source&&localStorage.setItem(e,JSON.stringify(this.state.userData||{})),this.trigger("state",t.payload)})),this.on("L2R_REQUEST",(t=>{this.trigger("request",t.payload)})),this.on(Y,(()=>{this.ready=!0}))}init(){this.postMessage({event:"R2L_INIT",payload:{params:this.data}})}css(t){Object.assign(this.wrapper.style,t)}postMessage(t){this.destroyed||this.frame.contentWindow.postMessage(t,this.src.origin)}insert(t){if(!t)return;t.appendChild(this.wrapper);let e=document.createElement("form");e.style.display="none",e.setAttribute("action",String(this.src)),e.setAttribute("method","POST"),e.setAttribute("target",this.id);let i=document.createElement("input");i.type="hidden",i.name="json-body",i.value=JSON.stringify(Q(Q({},this.data),{},{options:this.options})),e.appendChild(i),document.body.appendChild(e),document.querySelector('iframe[name="'+this.id+'"]')&&e.submit(),document.body.removeChild(e)}createFrame(){let t=document.createElement("div");t.innerHTML=`<iframe name="${this.id}" allowfullscreen="true" data-announcekit-widget sandbox="allow-same-origin allow-presentation allow-scripts allow-top-navigation allow-popups allow-popups-to-escape-sandbox allow-forms allow-downloads"></iframe>`,t.className="announcekit-frame-wrapper";let e=t.firstChild;this.wrapper=t,this.frame=e,this.resetStyle(),t.addEventListener("click",(t=>{t.stopImmediatePropagation()})),document.addEventListener("click",(t=>{this.trigger("$clickoutside")})),document.addEventListener("touchstart",(t=>{this.trigger("$clickoutside")}))}resetStyle(){this.frame.setAttribute("style",""),this.wrapper.setAttribute("style",""),this.on("state",(t=>{Object.assign(this.frame.style,{position:"absolute",top:0,right:0,bottom:0,left:0,border:0,width:"100%",height:"classic"==t.widget.layout?"100%":"145%"})})),Object.assign(this.wrapper.style,{position:"absolute",width:0,height:0,overflow:"hidden",top:"-1000em"})}destroy(){this.destroyed||(this.wrapper.parentElement&&this.wrapper.parentElement.removeChild(this.wrapper),this.destroyed=!0)}}class it extends a{get type(){return"overlay"}constructor(t){super(t),n(this,"boosterFrame",void 0),n(this,"backdrop",void 0),n(this,"hidden",void 0),n(this,"title",void 0),n(this,"body",void 0),n(this,"cachedUnread",void 0),n(this,"_fixFrameHeight",(()=>{if(this.frame.data.mobile)return this.boosterFrame.css({height:"100vh"});let t="0";this.boosterFrame.size&&this.boosterFrame.size.height&&(t=`${this.boosterFrame.size.height}px`),this.boosterFrame.css({height:t})})),n(this,"_hide",(()=>{this.backdrop&&Object.assign(this.backdrop.style,{opacity:0,pointerEvents:"none"}),this.boosterFrame&&this.boosterFrame.css({opacity:0,pointerEvents:"none"}),this.hidden=!0})),n(this,"hide",(()=>{this._hide();let t=this.boosterFrame?.state?.posts?.[0];t&&this.parent.setRead(new Date(t.visible_at).getTime()),setTimeout((()=>{this.destroy()}),200)})),n(this,"_configure",(()=>{this.watchState((t=>{let{disabled:e,preview:i,size:n,width:s,unread:o,lastRead:r,hasBoosters:a}=t;if(e)return this._hide();if(null!==a&&!a)return this.hide();if(!i&&(!o||r>=new Date(this.post.visible_at).getTime())&&!this.cachedUnread)return this._hide();this.boosterFrame||(this.boosterFrame=new et({widget:this.post.$url,data:this.frame.data.data,user:this.frame.data.user,user_token:this.frame.data.user_token,lang:this.frame.data.locale}),this.boosterFrame.insert(document.body),this.boosterFrame.one("BOOTSTRAP",(t=>{this.boosterFrame.init(),this.boosterFrame.postMessage({event:"OPEN"})})),this.boosterFrame.on("resize",this._fixFrameHeight),this.boosterFrame.on("request",(t=>{"close"==t&&this.hide()})),i||this.boosterFrame.on("$clickoutside",this.hide),this.boosterFrame.css({position:"fixed",opacity:0,zIndex:2147483001,height:"0",transition:"opacity 0.25s ease-in",pointerEvents:"none",borderRadius:"4px"}));let l=`${s}px`;"default"==n?l="70vw":"narrow"==n?l="50vw":"wide"==n&&(l="90vw"),this.boosterFrame.css({width:l});let d=()=>{this.parent.sendBeacon({event_type:"widget-booster-show",custom_1:"overlay",post_id:Number(this.post?.id)||void 0}),this.hidden||(this.frame.data.mobile?this.boosterFrame.css({left:"50%",right:0,top:"50%",bottom:0,maxHeight:"75vh",boxShadow:"0 2px 13px 0 rgba(0,0,0,0.19)",transform:"translateY(-50%) translateX(-50%)"}):this.boosterFrame.css({left:"50%",right:0,top:"50%",bottom:0,maxHeight:"90vh",boxShadow:"0 2px 13px 0 rgba(0,0,0,0.19)",transform:"translateY(-50%) translateX(-50%)"}),this.boosterFrame.css({opacity:1,pointerEvents:"auto"}),this._fixFrameHeight(),this.backdrop||(this.backdrop=document.createElement("div"),this.backdrop.classList.add("announcekit-widget-iframe-backdrop"),Object.assign(this.backdrop.style,{position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,.3)",zIndex:998,opacity:0,transition:"opacity 0.7s ease"}),setTimeout((()=>{Object.assign(this.backdrop.style,{opacity:1}),this.title=this.boosterFrame.frame.contentDocument?.body?.querySelector("h1"),this.body=this.boosterFrame.frame.contentDocument?.body?.querySelector(".post-body div"),this.state.widget.overrideState&&this.state.widget.overrideState.title&&this.title&&(this.title.innerText=this.state.widget.overrideState.title),this.state.widget.overrideState&&this.state.widget.overrideState.summary&&this.body&&(this.body.innerHTML=this.state.widget.overrideState.summary)}),10),document.body.appendChild(this.backdrop)))};this.hidden=!1,this.boosterFrame.ready?d():this.boosterFrame.one(Y,d),this.state.widget.overrideState&&this.state.widget.overrideState.title&&this.title&&(this.title.innerText=this.state.widget.overrideState.title),this.state.widget.overrideState&&this.state.widget.overrideState.summary&&this.body&&(this.body.innerHTML=this.state.widget.overrideState.summary)}),(t=>(this.cachedUnread||(this.cachedUnread=t.ui.unreadCount),{preview:t.preview,disabled:!!t.widget.options["booster-common-disabled"]||!!t.widget.options["booster-overlay-disabled"],width:t.widget.options["booster-overlay-width"]||800,size:t.widget.options["booster-overlay-size"]||"default",unread:t.ui.unreadCount,lastRead:t.userData?.lastRead||0,overrideState:t.widget.overrideState,hasBoosters:t.widget.hasBoosters||null}))),this.watchState((t=>{let{css:e,theme:i}=t;if(e)for(const t of Object.keys(e))this.boosterFrame?.postMessage({event:X,payload:{css:e[t],id:t}});i&&this.boosterFrame?.postMessage({event:Z,payload:i})}),(t=>({preview:t.preview,css:t.previewData?.css,theme:t.previewData?.theme})))})),this._configure()}destroy(){if(this.boosterFrame?.destroy(),this.boosterFrame=null,this.backdrop)try{document.body.removeChild(this.backdrop)}catch(t){}super.destroy()}}class nt extends r{constructor(t){super(t),n(this,"boosters",[]),n(this,"onWidgetInit",(t=>{let{widget:e}=t;if(!1===e.conf.boosters)return;const i=e.state.boosterPosts??{},n=Object.keys(i);for(let t of n){if(!i[t])continue;if(e.state.widget.options[`booster-${t}-disabled`])return;if(this.boosters.find((e=>e.type==t)))return;let n;switch(t){case"bar":n=new $(e);break;case"modal":n=new O(e);break;case"overlay":n=new it(e);break;case"nps":n=new q(e)}n&&this.boosters.push(n)}})),this.parent.on("widget-init",this.onWidgetInit)}get bar(){return this.boosters.find((t=>t instanceof $))}get modal(){return this.boosters.find((t=>t instanceof O))}get overlay(){return this.boosters.find((t=>t instanceof it))}get nps(){return this.boosters.find((t=>t instanceof q))}}class st extends r{constructor(t){super(t)}get state(){return this.parent.state}get frame(){return this.parent.frame}get conf(){return this.parent.conf}get container(){return null}set container(t){throw new Error("not implemented")}}class ot extends st{get badgeConf(){return this.conf.badge||{}}constructor(t){super(t),n(this,"badge",void 0),n(this,"handleClick",(t=>{t.stopPropagation(),this.trigger("click",t)})),n(this,"handleInterest",(t=>{this.trigger("interest")})),n(this,"_configure",(()=>{this.watchState((t=>{let{color:e,textColor:i,passiveColor:n,unread:s,hideWhenRead:o,eyecatcher:r,minimalist:a,favicon:l}=t;if(this.badge.className=Array.from(this.badge.classList).filter((t=>!/^announcekit/.test(t))).concat(["announcekit-widget-badge"]).join(" "),this.badgeConf.staticValue){if(this.badge.innerHTML=rt(`#${e}`,`#${i}`,this.badgeConf.staticValue,this.badge.style),this.badge.style.visibility="visible","pulse"==r)this.badge.classList.add(u(`#${e}`));else if("shake"==r){const t=a?.5:1;this.badge.classList.add(p(t))}}else if(s){if(this.badge.classList.remove("announcekit-widget-badge-hidden"),this.badge.style.visibility="visible",this.badge.innerHTML=rt(`#${e}`,`#${i}`,a?"":String(Math.min(s||0,5)),this.badge.style),a&&this.badge.classList.add(g()),"pulse"==r)this.badge.classList.add(u(`#${e}`));else if("shake"==r){const t=a?.5:1;this.badge.classList.add(p(t))}l&&d({color:`#${e}`,counter:Math.min(s||0,5)})}else o?(this.badge.style.visibility="hidden",this.badge.classList.add("announcekit-widget-badge-hidden")):(this.badge.style.visibility="visible",this.badge.classList.remove("announcekit-widget-badge-hidden"),a&&this.badge.classList.add(g()),this.badge.innerHTML=rt(`#${n}`,`#${i}`,"",this.badge.style)),l&&d({reset:!0})}),(t=>({color:String(t.widget.options["mode-badge-color"]||"ff3924"),textColor:String(t.widget.options["mode-badge-text-color"]||"ffffff"),passiveColor:String(t.widget.options["mode-badge-passive-color"]||"727272"),hideWhenRead:!!t.widget.options["mode-badge-hide-when-read"],eyecatcher:t.widget.options["mode-badge-eyecatcher"],unread:t.ui.unreadCount,minimalist:t.widget.options["mode-badge-minimalist"]||!1,favicon:t.widget.options["mode-badge-favicon"]||!1})))})),this.badge=document.createElement("a"),this.badge.className="announcekit-widget-badge",this.badge.target="_blank",this.badge.href=t.state.feed.url,Object.assign(this.badge.style,{display:"inline-flex",flex:"0 0",width:"1em",height:"1em",cursor:"pointer",padding:"0",position:"relative",verticalAlign:"middle",visibility:"hidden"},this.badgeConf.style),this.one("destroy",(()=>{this.container=null})),this._configure()}get container(){return this.badge.parentElement}set container(t){let e=this.container;e&&(e.removeEventListener("click",this.handleClick),e.removeEventListener("mouseenter",this.handleInterest),e.removeChild(this.badge),e["announcekit-position-override"]&&(e.style.position="")),t&&(t.appendChild(this.badge),t.addEventListener("click",this.handleClick),t.addEventListener("mouseenter",this.handleInterest),t.style.cursor="pointer",""==t.style.position&&(t.style.position="relative",t["announcekit-position-override"]=!0))}getBoundingClientRect(){return this.badge.getBoundingClientRect()}}function rt(t,e,i,n){let s="";return n.width&&(s+=`width: ${n.width};`),n.height&&(s+=`height: ${n.height};`),`\n    <svg\n       viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"\n       height="${n.height||"1em"}" width="${n.width||"1em"}"\n       style="${s.trim()}">\n      <g text-anchor="middle" font-weight="bold" font-family='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;' text-rendering="geometricPrecision" font-size="60">\n        <circle r="50" cx="50" cy="50" fill="${t}"/>\n        <text x="50" y="70" textLength="70" fill="${e}">${i}</text>\n      </g>\n    </svg>\n  `}class at extends st{get drawerConf(){return this.conf.drawer||{}}constructor(t){super(t),n(this,"drawer",void 0),n(this,"counter",void 0),n(this,"label",void 0),n(this,"badge",void 0),n(this,"handleClick",(t=>{t.stopPropagation(),this.trigger("click",t)})),n(this,"handleInterest",(t=>{this.trigger("interest")})),n(this,"_configure",(()=>{this.watchState((t=>{let{text:e,textWeight:i,color:n,textColor:s,top:o,roundness:r,unread:a,hideWhenRead:l,open:d,textSize:c}=t;this.drawer.style.top=`${o}%`,this.drawer.style.backgroundColor=`#${n}`,this.drawer.style.color=`#${s}`,this.drawer.style.fontSize=`${c}px`,this.drawer.style.fontWeight=i,this.drawer.style.borderRadius=`${r}em ${r}em 0 0`,this.label.innerText=e,this.drawer.style.display=a||!l||d?"block":"none"}),(t=>({text:String(t.widget.options["mode-drawer-text"]||"UPDATES"),textSize:String(t.widget.options["mode-drawer-text-size"]||16),textWeight:String(t.widget.options["mode-drawer-text-weight"]||400),color:String(t.widget.options["mode-drawer-color"]||"4E00FF"),textColor:String(t.widget.options["mode-drawer-text-color"]||"FFFFFF"),top:String(t.widget.options["mode-drawer-top"]||50),roundness:String(t.widget.options["mode-drawer-roundness"]||.5),hideWhenRead:!!t.widget.options["mode-drawer-hide-when-read"],unread:t.ui.unreadCount,open:t.ui.open})))})),this.drawer=document.createElement("a"),this.drawer.target="_blank",this.drawer.href=t.state.feed.url,this.drawer.className="announcekit-widget-drawer-badge",Object.assign(this.drawer.style,{backgroundColor:"transparent",boxShadow:"0 1px 7px 0 rgba(0,0,0,0.18)",position:"fixed",top:"50%",right:"0",zIndex:"2147483000",display:"block",cursor:"pointer",transform:"rotate(-90deg) translateY(-100%) translateX(50%)",transformOrigin:"right top",padding:"0.5em 1em"},this.drawerConf.style),this.drawer.appendChild(this._createLabel()),this.drawer.appendChild(this._createCounter()),this.badge=new ot(this.parent),this.badge.on("click",this.handleClick),this.badge.container=this.counter,this.drawer.addEventListener("click",this.handleClick),this.drawer.addEventListener("mouseenter",this.handleInterest),this.one("destroy",(()=>{this.badge?.destroy(),this.container=null})),this.container=document.body,this._configure()}get container(){return this.drawer.parentElement}set container(t){let e=this.container;e&&e.removeChild(this.drawer),t&&t.appendChild(this.drawer)}getBoundingClientRect(){return this.drawer.getBoundingClientRect()}_createCounter(){let t=document.createElement("span");return t.className="announcekit-badge-counter",Object.assign(t.style,{position:"absolute",top:"-5px",right:"-5px",fontSize:"22px",display:"flex"}),this.counter=t}_createLabel(){let t=document.createElement("span");return t.className="announcekit-drawer-label",Object.assign(t.style,{display:"inline-block"}),this.label=t}}const lt={bubble:'<svg style="position: relative; top: 2px" width="26" height="28" xmlns="http://www.w3.org/2000/svg"><path d="M23 0H3a3 3 0 0 0-3 3v24.41l5.12-5.12a1.05 1.05 0 0 1 .71-.29H23a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3zm0 18.086c0 .499-.373.914-.875.914H6.515c-.723 0-2.095.151-2.606.66L3 20.606V3.903C3 3.404 3.407 3 3.91 3h18.18c.503 0 .91.404.91.903v14.183z" fill-rule="nonzero"/></svg>',megaphone:'<svg width="32" height="26" xmlns="http://www.w3.org/2000/svg"><path d="M14.46 22.989a3.305 3.305 0 0 1-.167-.668l9.165-1.608c.114 1.799-1.226 3.632-3.25 4.369-2.428.884-5.007-.056-5.749-2.093zM1.655 12.883c.684-.25 1.466.17 1.744.934l3.278 9.005c.278.764-.052 1.588-.736 1.837-.683.248-1.465-.17-1.743-.935L.92 14.72c-.278-.764.052-1.588.735-1.836zm6.182 9.268l-3.344-9.186-.02-.057L21.826 2.733l1.278 3.512-13.41 7.232a.375.375 0 0 0-.147.506.37.37 0 0 0 .499.158l13.318-7.183 4.327 11.89-19.834 3.36-.02-.057zM23.01.197c.683-.249 1.47.182 1.753.96l1.925 5.29 2.567 7.052 1.925 5.29c.283.778-.042 1.613-.726 1.862-.683.248-1.47-.182-1.753-.96l-.128-.353-6.161-16.926-.128-.353C22 1.281 22.326.446 23.01.197zm4.96 5.916c1.456-.334 3.024.594 3.607 2.196.584 1.603-.021 3.322-1.35 4.002L27.97 6.113z" fill-rule="evenodd"/></svg>',giftbox:'<svg width="28" height="28" xmlns="http://www.w3.org/2000/svg"><g stroke="#FFF" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M24.4 14v13H3.6V14M1 7.5h26V14H1zM14 27V7.5M14 7.5H8.15a3.25 3.25 0 1 1 0-6.5C12.7 1 14 7.5 14 7.5zM14 7.5h5.85a3.25 3.25 0 0 0 0-6.5C15.3 1 14 7.5 14 7.5z"/></g></svg>',rocket:'<svg style="position: relative; top: 1px" width="28" height="28" xmlns="http://www.w3.org/2000/svg"><path d="M5.838 16.657L0 17.49s.884-4.419 3.535-7.07c1.13-1.13 3.344-1.176 4.793-1.062a9.02 9.02 0 0 1 1.014-1.21C17.515-.025 28 0 28 0s.025 10.485-8.15 18.658a9.02 9.02 0 0 1-1.209 1.014c.114 1.45.068 3.664-1.063 4.793C14.928 27.116 10.51 28 10.51 28l.834-5.838H9.342l-3.504-3.504v-2.001zm10.51-7.34a2.335 2.335 0 1 0 4.67.001 2.335 2.335 0 0 0-4.67-.001zM7.639 22.559l.535.533a2.653 2.653 0 0 1-.686 1.212c-1.616 1.616-5.137 1.342-5.137 1.342s-.254-3.543 1.341-5.138a2.653 2.653 0 0 1 1.212-.685l.534.534c-.075.054-.16.085-.228.152-1.14 1.139-.57 2.847-.57 2.847s1.709.569 2.847-.57c.068-.066.1-.153.152-.227z" fill-rule="evenodd"/></svg>',warning:'<svg width="34" height="33" xmlns="http://www.w3.org/2000/svg"><path d="M34 16.5l-3.77 4.385.525 5.813-5.58 1.286L22.255 33 17 30.697 11.745 33l-2.92-5.016-5.58-1.286.526-5.813L0 16.5l3.77-4.385-.525-5.813 5.58-1.286L11.745 0 17 2.303 22.255 0l2.92 5.016 5.58 1.286-.526 5.813L34 16.5zm-3.09 0l-3.086-3.563.43-4.723-4.565-1.045-2.39-4.075L17 4.965l-4.3-1.871-2.389 4.075-4.565 1.045.43 4.723L3.091 16.5l3.085 3.563-.43 4.723 4.565 1.045 2.39 4.075L17 28.035l4.3 1.871 2.389-4.075 4.565-1.045-.43-4.723 3.085-3.563zm-12.475 5.965H16V20h2.435v2.465zm0-5.07H16V10h2.435v7.394z" fill-rule="nonzero"/></svg>',bell:'<svg style="position: relative; left: 2px" width="25" height="28" xmlns="http://www.w3.org/2000/svg"><path d="M21.97 14.648c-1.864-.91-2.31-2.575-3.004-4.455-1.46-4.023-4.773-8.207-9.46-8.267C8.602-.743 4.6.33 5.06 3.118c-3.94 2.37-4.717 7.65-3.97 11.865.316 1.888.786 3.64-.374 5.36C-.64 22.397.07 25.4 2.026 24.876l21.076-5.647c1.868-.5 1.07-3.48-1.132-4.581zm-6.29 8.542l-5.157 1.382c-.534.143-.707.565-.477 1.067 1.431 3.561 7.034 2.06 6.469-1.827-.005-.375-.39-.741-.834-.622z" fill-rule="evenodd"/></svg>'};class dt extends st{get floatConf(){return this.conf.float||{}}constructor(t){super(t),n(this,"float",void 0),n(this,"icon",void 0),n(this,"customIcon",void 0),n(this,"counter",void 0),n(this,"badge",void 0),n(this,"handleClick",(t=>{t.stopPropagation(),this.trigger("click",t)})),n(this,"handleInterest",(t=>{this.trigger("interest")})),n(this,"_configure",(()=>{this.watchState((t=>{let{unread:e,hideWhenRead:i,position:n,icon:s,customIcon:o,iconColor:r,color:a,open:l}=t;this.float.style.backgroundColor=`#${a}`,"custom"===s&&""!==o.trim()?(this.icon.innerHTML=`<img src="${o}" alt="Float Icon"/>`,this.icon.querySelector("img").style.width="100%"):(this.icon.innerHTML=lt[s]||lt.bell,this.icon.querySelector("svg").style.fill=`#${r}`),"bottomleft"==n?(this.float.style.left="20px",this.float.style.right="auto"):(this.float.style.right="20px",this.float.style.left="auto"),this.float.style.display=e||!i||l?"block":"none"}),(t=>({color:String(t.widget.options["mode-float-color"]||"4E00FF"),icon:String(t.widget.options["mode-float-icon"]||"bell"),customIcon:String(t.widget.options["mode-float-custom-icon-url"]||""),iconColor:String(t.widget.options["mode-float-icon-color"]||"FFFFFF"),position:String(t.widget.options["mode-float-position"]||"bottomright"),hideWhenRead:!!t.widget.options["mode-float-hide-when-read"],unread:t.ui.unreadCount,open:t.ui.open})))})),this.float=document.createElement("a"),this.float.target="_blank",this.float.href=t.state.feed.url,this.float.className="announcekit-widget-floating-badge",Object.assign(this.float.style,{backgroundColor:"transparent",boxShadow:"0 1px 7px 0 rgba(0,0,0,0.18)",position:"fixed",bottom:"20px",left:"-10000px",zIndex:"2147483000",display:"block",width:"58px",height:"58px",borderRadius:"24px",cursor:"pointer"},this.floatConf.style),this.float.appendChild(this._createIcon()),this.float.appendChild(this._createCounter()),this.badge=new ot(this.parent),this.badge.on("click",this.handleClick),this.badge.container=this.counter,this.float.addEventListener("click",this.handleClick),this.float.addEventListener("mouseenter",this.handleInterest),this.one("destroy",(()=>{this.badge?.destroy(),this.container=null})),this.container=document.body,this._configure()}get container(){return this.float.parentElement}set container(t){let e=this.container;e&&e.removeChild(this.float),t&&t.appendChild(this.float)}getBoundingClientRect(){return this.float.getBoundingClientRect()}_createIcon(){let t=document.createElement("span");return t.className="announcekit-badge-icon",Object.assign(t.style,{position:"absolute",top:"50%",left:"50%",display:"inline-block",transform:"translateX(-50%) translateY(-50%)"}),this.icon=t}_createCounter(){let t=document.createElement("span");return t.className="announcekit-badge-counter",Object.assign(t.style,{position:"absolute",top:"-5px",right:"-5px",fontSize:"22px",display:"flex"}),this.counter=t}}class ct extends st{get lineConf(){return this.parent.conf.line||{}}constructor(t){super(t),n(this,"line",void 0),n(this,"label",void 0),n(this,"title",void 0),n(this,"handleClick",(t=>{t.stopPropagation(),this.trigger("click",t)})),n(this,"_configure",(()=>{this.watchState((t=>{let{title:e,url:i,labelName:n,labelColor:s}=t;e?(this.line.style.visibility="visible",n?(this.label.innerText=this.state.locale.$label[n]||n,this.label.style.backgroundColor=`#${s}20`,this.label.style.color=`#${s}`):(this.label.innerText="",this.label.style.backgroundColor="transparent"),this.title.innerText=e,this.line.href=i):(this.line.style.visibility="hidden",this.title.innerHTML="",this.label.innerHTML="")}),(t=>({title:t.posts[0]?.title,url:t.posts[0]?.url,labelName:t.posts[0]?.labels?.[0]?.name,labelColor:t.posts[0]?.labels?.[0]?.color})))})),this.line=document.createElement("a"),this.line.className="announcekit-widget-line",this.line.target="_blank",this.line.href=t.state.feed.url;const e=["ar","he"].includes(this.state.project.locale);Object.assign(this.line.style,{display:"inline-flex",alignItems:"center",color:"inherit",direction:e?"rtl":"ltr",textDecoration:"none"},this.lineConf.style),this.line.appendChild(this._createLabel()),this.line.appendChild(this._createTitle()),this.line.addEventListener("click",this.handleClick),this.one("destroy",(()=>{this.container=null})),this._configure()}get container(){return this.line.parentElement}set container(t){let e=this.container;e&&e.removeChild(this.line),t&&t.appendChild(this.line)}getBoundingClientRect(){return this.line.getBoundingClientRect()}_createLabel(){return this.label=document.createElement("span"),this.label.className="announcekit-line-label",Object.assign(this.label.style,{backgroundColor:"transparent",borderRadius:"4px",padding:"0.2em 0.5em",color:"white",textTransform:"uppercase",marginRight:"5px",fontSize:"0.65em",fontWeight:"500"}),["ar","he"].includes(this.state.project.locale)&&(this.label.style.marginLeft="5px",this.label.style.marginRight="0px"),this.label}_createTitle(){return this.title=document.createElement("span"),this.title.className="announcekit-line-title",this.title.style.lineHeight="1em",this.title}}let ht=!1;if("undefined"!=typeof window){const t={get passive(){ht=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const pt="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);let ut,gt,mt=[],bt=!1,ft=-1;const wt=t=>mt.some((e=>!(!e.options.allowTouchMove||!e.options.allowTouchMove(t)))),yt=t=>{const e=t||window.event;return!!wt(e.target)||e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)};class vt extends r{get disablesBodyScroll(){return!1}get state(){return this.parent.state}get frame(){return this.parent.frame}constructor(t){super(t),n(this,"isOpen",!1),n(this,"isPreloaded",!1),this.one("destroy",(()=>{this.frame.resetStyle()}))}preload(){this.isPreloaded||(this.isPreloaded=!0,this.trigger("preload"))}open(){this?.disablesBodyScroll&&!1!==this?.parent?.conf?.disablesBodyScroll&&((t,e)=>{if(pt){if(!t)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(t&&!mt.some((e=>e.targetElement===t))){const i={targetElement:t,options:e||{}};mt=[...mt,i],t.ontouchstart=t=>{1===t.targetTouches.length&&(ft=t.targetTouches[0].clientY)},t.ontouchmove=e=>{1===e.targetTouches.length&&((t,e)=>{const i=t.targetTouches[0].clientY-ft;!wt(t.target)&&(e&&0===e.scrollTop&&i>0||(t=>!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight)(e)&&i<0?yt(t):t.stopPropagation())})(e,t)},bt||(document.addEventListener("touchmove",yt,ht?{passive:!1}:void 0),bt=!0)}}else{(t=>{setTimeout((()=>{if(void 0===gt){const e=!!t&&!0===t.reserveScrollBarGap,i=window.innerWidth-document.documentElement.clientWidth;e&&i>0&&(gt=document.body.style.paddingRight,document.body.style.paddingRight=`${i}px`)}void 0===ut&&(ut=document.body.style.overflow,document.body.style.overflow="hidden")}))})(e);const i={targetElement:t,options:e||{}};mt=[...mt,i]}})(this.frame.wrapper,{reserveScrollBarGap:!0}),this.trigger("open")}close(){this.trigger("close"),this?.disablesBodyScroll&&!1!==this?.parent?.conf?.disablesBodyScroll&&(t=>{if(pt){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,mt=mt.filter((e=>e.targetElement!==t)),bt&&0===mt.length&&(document.removeEventListener("touchmove",yt,ht?{passive:!1}:void 0),bt=!1)}else mt=mt.filter((e=>e.targetElement!==t)),mt.length||setTimeout((()=>{void 0!==gt&&(document.body.style.paddingRight=gt,gt=void 0),void 0!==ut&&(document.body.style.overflow=ut,ut=void 0)}))})(this.frame.wrapper)}}class xt extends vt{constructor(t){super(t),n(this,"_configure",(()=>{this.watchState((()=>{this._reposition()}),(t=>({fullHeight:!!t.widget.options["widget-embed-full-height"]})))})),n(this,"_reposition",(()=>{this.handleResize(this.frame.size)})),n(this,"handleResize",(t=>{let e={position:"relative",top:0,left:0,width:"100%",opacity:1,height:"100%",minHeight:"250px"};this.state.widget.options["widget-embed-full-height"]&&(e.height=`${t.height}px`,delete e.minHeight),this.frame.css(e)})),this.frame.on("resize",this.handleResize),this.on("destroy",(()=>{this.frame.off("resize",this.handleResize)})),this._configure(),requestAnimationFrame((()=>this.open()))}open(){this._reposition(),super.open()}close(){}}class $t extends vt{get disablesBodyScroll(){return!0}constructor(t){super(t),n(this,"element",void 0),n(this,"isOpen",void 0),n(this,"openAt",void 0),n(this,"backdrop",void 0),n(this,"handleClickOutside",(()=>{this.openAt&&this.openAt+500>Date.now()||this.close()})),n(this,"fixFrameHeight",(()=>{if(!this.isOpen)return;let t="900px";this.frame.size&&this.frame.size.height&&(t=`${this.frame.size.height}px`),this.frame.css({maxHeight:t})})),this.frame.css({position:"fixed",opacity:0,zIndex:2147483001,transform:"",height:"",width:"400px"}),this.frame.on("$clickoutside",this.handleClickOutside),this.frame.on("resize",this.fixFrameHeight),this.one("destroy",(()=>{if(this.frame.off("$clickoutside",this.handleClickOutside),this.backdrop)try{document.body.removeChild(this.backdrop)}catch(t){}}))}open(){this.isOpen||this.destroyed||(this.openAt=Date.now(),this.isOpen=!0,this.frame.css({opacity:1,transform:"translateY(-50%) translateX(-50%)",transition:"opacity 0.25s ease-in",left:"50%",right:0,top:"50%",bottom:0,maxWidth:"600px",maxHeight:"900px",width:"70vw",height:"80vh",pointerEvents:"auto",borderRadius:"4px",boxShadow:"0 2px 13px 0 rgba(0,0,0,0.19)"}),this.fixFrameHeight(),this.backdrop=document.createElement("div"),this.backdrop.classList.add("announcekit-widget-iframe-backdrop"),Object.assign(this.backdrop.style,{position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,.3)",zIndex:998,opacity:0,transition:"opacity 0.7s ease"}),setTimeout((()=>Object.assign(this.backdrop.style,{opacity:1})),10),document.body.appendChild(this.backdrop),super.open())}close(){if(this.isOpen&&!this.destroyed&&!this.state.widget.persistent){this.openAt=null,this.isOpen=!1,super.close(),Object.assign(this.backdrop.style,{opacity:0,pointerEvents:"none"}),this.frame.css({opacity:0,pointerEvents:"none"});try{this.frame.css({opacity:0,transform:"",pointerEvents:"none",top:"-1000em",left:"",bottom:"",right:""}),document.body.removeChild(this.backdrop)}catch(t){}}}}class kt extends vt{constructor(t){super(t),n(this,"isOpen",void 0),n(this,"openAt",void 0),n(this,"capturedPosition",void 0),n(this,"repositionInterval",void 0),n(this,"handleClickOutside",(()=>{this.openAt&&this.openAt+500>Date.now()||this.close()})),n(this,"handleResize",(t=>{let{payload:e}=t;this.frame.css({height:`${Math.max(Math.min(e.height,350),100)}px`}),this.trigger("resize",{size:e})})),n(this,"_reposition",(()=>{let t={left:0,top:0,bottom:0,right:0,width:0,height:0},e=this.frame.wrapper.getBoundingClientRect();if(this.parent.launcher){if(t=this.parent.launcher.getBoundingClientRect(),!t||!t.width||!t.height)return}else this.capturedPosition?(t.left=t.right=this.capturedPosition.left,t.top=t.bottom=this.capturedPosition.top):(t.top=t.bottom=window.innerHeight/2-e.height/2,t.left=t.right=window.innerWidth/2-e.width/2);let i="left",n="top";t.left+e.width>window.innerWidth&&(i="right"),t.top+e.height+10>window.innerHeight&&t.top>window.innerHeight/2&&(n="bottom"),"bar"==this.state.widget.mode&&(i="center");let s={opacity:1,marginTop:0},o=window.pageYOffset||document.documentElement.scrollTop,r=window.pageXOffset||document.documentElement.scrollLeft;"left"==i?Object.assign(s,{left:`${Math.max(0,t.left+r)}px`}):"right"==i?Object.assign(s,{left:`${Math.max(0,t.left+r-e.width)}px`}):"center"==i&&Object.assign(s,{left:`${Math.max(0,t.left+r+(t.width-e.width)/2)}px`}),"top"==n?Object.assign(s,{top:`${t.bottom+o+10}px`}):Object.assign(s,{top:t.top+o-e.height-10+"px"}),this.frame.css(s)})),this.frame.css({opacity:0,transition:"margin-top 0.2s linear, opacity 0.2s linear",zIndex:16777270,marginTop:"-10px",borderRadius:"4px",boxShadow:"0 2px 13px 0 rgba(0,0,0,0.19)",width:"400px",height:"400px"}),this.frame.on(K,this.handleResize),this.frame.on("$clickoutside",this.handleClickOutside),this.one("destroy",(()=>{this.frame.off("$clickoutside",this.handleClickOutside),this.frame.off(K,this.handleResize),window.removeEventListener("scroll",this._reposition),window.removeEventListener("resize",this._reposition),clearInterval(this.repositionInterval)}))}open(){this.isOpen||this.destroyed||(this.openAt=Date.now(),this.isOpen=!0,window.addEventListener("scroll",this._reposition),window.addEventListener("resize",this._reposition),window.event&&window.event.clientX&&window.event.clientY&&(this.capturedPosition={left:window.event.clientX,top:window.event.clientY}),super.open(),this._reposition(),this.repositionInterval=setInterval(this._reposition,200))}close(){!this.isOpen||this.destroyed||this.state.widget.persistent||(this.isOpen=!1,this.openAt=null,this.capturedPosition=null,this.frame.css({opacity:0,marginTop:"-10px"}),this.frame.css({top:"-1000em",left:"0"}),window.removeEventListener("scroll",this._reposition),window.removeEventListener("resize",this._reposition),clearInterval(this.repositionInterval),super.close())}}let St=screen.width<700;class _t extends vt{get disablesBodyScroll(){return!0}constructor(t){super(t),n(this,"element",void 0),n(this,"openAt",void 0),n(this,"backdrop",void 0),n(this,"handleClickOutside",(()=>{this.openAt&&this.openAt+500>Date.now()||this.close()})),n(this,"_configure",(()=>{this.watchState((()=>{this._reposition()}),(t=>({slideDirection:t.widget.options["widget-sidebar-slide-direction"],width:t.widget.options["widget-sidebar-width-preset"],layout:t.widget.layout})))})),n(this,"_reposition",(()=>{if(this.isOpen){const t={opacity:1,transform:"translateX(0px)",borderRadius:this.state.widget.layout&&"classic"==this.state.widget.layout?"4px":"16px",left:"",right:"10px",top:"10px",bottom:"10px",width:"400px",pointerEvents:"auto"};"narrow"==this.state.widget.options["widget-sidebar-width-preset"]?t.width="350px":"wide"==this.state.widget.options["widget-sidebar-width-preset"]&&(t.width="500px"),"left"==this.state.widget.options["widget-sidebar-slide-direction"]&&(t.right="",t.left="10px"),this.frame.css(t),St&&this.frame.css({left:0,right:0,top:0,bottom:0,width:"100vw",height:"100vh",borderRadius:0}),this.backdrop||(this.backdrop=document.createElement("div"),this.backdrop.classList.add("announcekit-widget-iframe-backdrop"),Object.assign(this.backdrop.style,{position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,.3)",zIndex:998,opacity:0,transition:"opacity 0.7s ease"}),document.body.appendChild(this.backdrop),requestAnimationFrame((()=>Object.assign(this.backdrop.style,{opacity:1}))))}else{let t="left"==this.state.widget.options["widget-sidebar-slide-direction"]?"-60px":"60px";if(this.frame.css({opacity:0,transform:`translateX(${t})`,pointerEvents:"none"}),this.backdrop){Object.assign(this.backdrop.style,{opacity:0,pointerEvents:"none"});let t=this.backdrop;try{this.frame.css({top:"-1000em",left:"",bottom:"",right:""}),document.body.removeChild(t)}catch(t){}this.backdrop=null}}})),this.frame.css({position:"fixed",opacity:0,transition:"opacity 0.25s ease-in, transform 0.2s ease-in",zIndex:2147483001,transform:"translateX(60px)",boxShadow:"0 2px 13px 0 rgba(0,0,0,0.19)",height:"",width:"400px"}),this.frame.on("$clickoutside",this.handleClickOutside),this.one("destroy",(()=>{if(this.frame.off("$clickoutside",this.handleClickOutside),this.backdrop)try{document.body.removeChild(this.backdrop)}catch(t){}})),this._configure()}open(){this.isOpen||this.destroyed||(this.openAt=Date.now(),this.isOpen=!0,this._reposition(),super.open())}close(){!this.isOpen||this.destroyed||this.state.widget.persistent||(this.openAt=null,this.isOpen=!1,this._reposition(),super.close())}}function Ct(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Et(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ct(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}class Ot extends r{get state(){return this.frame.state}constructor(t,e,i){super(t),n(this,"frame",void 0),n(this,"conf",void 0),n(this,"container",void 0),n(this,"widget",void 0),n(this,"launcher",void 0),n(this,"isOpen",!1),this.frame=e,this.conf=i,this.container=c(i.selector),this._watchLocalRequests(),this._watchGlobalWidgets(),this._watchUnread(),this._setupPreview(),this._createLauncher(),this._createWidget(),this._setupSegmentTracking(),this.frame.on("state",(t=>this.trigger("state",t))),this.frame.on("close",(()=>this.close())),this.frame.on("READY",(()=>this.trigger("ready"))),this.trigger("state",this.state),this.one("init",(()=>{this.conf.onInit&&requestAnimationFrame((()=>this.conf.onInit(this))),this.sendBeacon({event_type:"widget-load"})})),this.one("destroy",(()=>{this.widget?.destroy(),this.launcher?.destroy(),this.frame.destroy()}))}_init(){this.frame.init(),this.trigger("init")}_createWidget(){this.watchState((t=>{this.widget&&(this.widget.destroy(),this.widget=null),requestAnimationFrame((()=>{if(!this.destroyed){if("embed"==t)this.widget=new xt(this);else switch(t){case"popup":this.widget=new kt(this);break;case"sidebar":this.widget=new _t(this);break;case"feed":this.widget=new $t(this)}this.widget&&(this.widget.on("open",(()=>{this.frame.postMessage({event:"OPEN"}),this.trigger("open"),this.isOpen=!0,this.sendBeacon({event_type:"widget-open"})})),this.widget.on("close",(()=>{this.frame.postMessage({event:"CLOSE"}),this.trigger("close"),this.isOpen=!1,this.sendBeacon({event_type:"widget-close"})})),this.widget.on("preload",(()=>{this.frame.postMessage({event:"LOAD"}),this.trigger("preload")})),this.widget.on("resize",(t=>{this.trigger("resize",t)}))),this.isOpen&&requestAnimationFrame((()=>this.open()))}}))}),(t=>t.widget.action))}_createLauncher(){this.watchState((t=>{this.launcher&&(this.launcher.destroy(),this.launcher=null),requestAnimationFrame((()=>{if(!this.destroyed){switch(this.container&&(this.container.setAttribute("data-announcekit-mode",t),"badge"==t?this.launcher=new ot(this):"line"==t&&(this.launcher=new ct(this)),this.launcher&&(this.launcher.container=this.container)),t){case"float":this.launcher=new dt(this);break;case"drawer":this.launcher=new at(this)}this.launcher&&(this.launcher.on("click",(t=>{this.widget?(t.preventDefault(),this.isOpen?this.close():this.open()):this.setRead()})),this.launcher.on("interest",(t=>{this.widget&&this.widget.preload()})))}}))}),(t=>"embed"==t.widget.action?"embed":t.widget.mode))}_watchLocalRequests(){this.frame.on("request",(t=>{"close"==t&&this.close(),t&&"imgmodal"===t.type&&function(t){let{media:e,src:i,poster:n}=t;if(screen.width<700)return;const s=document.createElement("div");Object.assign(s.style,{display:"none",position:"fixed",zIndex:"1000000000000",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",backgroundColor:"rgba(0, 0, 0, 0.9)",textAlign:"center",cursor:"pointer",animation:"fadein 0.2s"}),s.addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault(),s.parentNode.removeChild(s)}));const o=document.createElement("div");if(Object.assign(o.style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),"video"==e){const t=document.createElement("video");t.setAttribute("poster",n),t.setAttribute("loop",""),t.setAttribute("muted","muted"),t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.muted=!0,t.style.maxWidth="min(100%, 55vw)",t.style.display="inline-block";const e=document.createElement("source");e.setAttribute("type","video/mp4"),e.setAttribute("src",i),t.appendChild(e),o.appendChild(t)}else{const t=document.createElement("img");t.setAttribute("src",i),Object.assign(t.style,{maxWidth:"min(100%, 55vw)",display:"inline-block"}),o.appendChild(t)}s.appendChild(o),document.body.appendChild(s),s.style.display="table"}(t),t&&"trigger"===t.type&&this.trigger(t.name,t.data)}))}_watchGlobalWidgets(){const t=t=>{t.widget!=this&&this.close()};this.parent.on("widget-open",t),this.one("destroy",(()=>this.parent.off("widget-open",t)))}_watchUnread(){let t,e=!1;this.on("state",(i=>{i.ui.unreadCount!=t&&((e||i.ui.unreadCount)&&(e=!0,requestAnimationFrame((()=>this.trigger("unread",{widget:this,unread:this.state.ui.unreadCount})))),t=i.ui.unreadCount)}))}setRead(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.frame.postMessage({event:"UPDATE_LAST_READ",payload:{upto:t}})}showPost(t){let{singular:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(this.open(),this.frame.postMessage({event:"R2L_SHOW_POST",payload:{post:t,singular:e}}))}subscribeToProject(t){if(t)return this.frame.postMessage({event:"R2L_SUBSCRIBE_EMAIL",payload:{email:t}}),new Promise(((t,e)=>{this.frame.one("L2R_SUBSCRIBE_EMAIL_RESULT",(i=>{const n=i.payload.error;if(n)return e(new Error(n));t(i.payload)}))}))}open(){this.widget?.open()}close(){this.widget?.close()}trigger(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super.trigger(t,e),this.parent.trigger(`widget-${t}`,Et(Et({},e),{},{widget:this}))}sendBeacon(t){this.frame?.postMessage({event:"R2L_BEACON",payload:t})}submitNpsFeedback(t,e){const{post_id:i}=t,n=localStorage.getItem(e),s=n?JSON.parse(n):F;return s[i]=t,localStorage.setItem(e,JSON.stringify(s)),s}submitNpsScore(t,e){this.frame?.postMessage({event:G,payload:{$id:t,posts:{[e]:{feedback:!0}}}})}submitNpsClose(t,e){this.frame?.postMessage({event:G,payload:{$id:t,posts:{[e]:{close:!0}}}})}submitNpsSeenOnce(t,e){this.frame?.postMessage({event:G,payload:{$id:t,posts:{[e]:{seen:!0}}}})}_setupPreview(){var t=this;this.state.preview&&(this.watchState((t=>{let{mode:e,action:i}=t;document.body.setAttribute("data-mode",e),document.body.setAttribute("data-action",i)}),(t=>({mode:t.widget.mode,action:t.widget.action}))),this.patchState=t=>this.frame.postMessage({event:"R2L_PATCH_STATE",payload:t}),this.putCSS=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.frame.postMessage({event:X,payload:{css:e,id:i}}),t.patchState({previewData:{css:{[i]:e}}})},this.setTheme=t=>{this.frame.postMessage({event:Z,payload:t}),this.patchState({previewData:{theme:t}})},this.getCSSVars=(t,e)=>{this.frame.one("R2L_GET_CSS_VARS_RESULT",(t=>e(t.payload))),this.frame.postMessage({event:"L2R_GET_CSS_VARS",payload:{keys:t}})})}_setupSegmentTracking(){const t=this.state.segmentToken;if(!t)return;const e=this.state.userData;["post-view","post-linkclick","post-reaction","post-feedback","booster-click","booster-show"].forEach((i=>{return this.on(i,(n=i,function(i){const s={method:"track",event_name:n,event_properties:i};e&&(s.user={id:e.$id}),fetch(`/api/segment/${t}`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).catch((t=>console.log("segment error",t)))}));var n}))}}function Tt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Pt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Tt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Lt=0;class At extends o{get version(){return 2}constructor(t){super(),n(this,"widgets",void 0),n(this,"boosters",new nt(this)),n(this,"log",void 0),n(this,"loaded",void 0),this.widgets=[],this.log=[],t.queue&&t.queue.forEach&&t.queue.forEach((t=>{Array.isArray(t)?this.on(t[0],t[1]):this.push(t)})),this.loaded=!0,setTimeout((()=>{this.trigger("init",this)}),10),this.on("widget-destroy",(t=>{let{widget:e}=t;this.widgets=this.widgets.filter((t=>t.conf._id!==e.conf._id)),this.log=this.log.filter((t=>!t.push||t.push._id!==e.conf._id)),e.conf.name&&this[`widget$${e.conf.name}`]==e&&delete this[`widget$${e.conf.name}`]}))}push(t){this.log.push(t),function(t){return!!t.widget}(t)&&this._pushWidget(t)}debug(){return this.widgets.map((t=>{const e=t.conf,i=t.frame.state;let n;return"string"==typeof e.selector?n=document.querySelector(e.selector):"object"==typeof e.selector&&(n=e.selector),{id:e.widget,projectId:i.project.id,conf:e,widgetType:i.widget.action,launcherType:i.widget.mode,isElementPlaced:n?.isConnected,isDestroyed:t.destroyed,unreadCount:i.ui?.unreadCount,totalPosts:i.posts.length,planHasUserTracking:i.project.plan_has_user_tracking,receivedUserId:i.userData?.$id,segmentationEnabled:i.project.plan_has_segmentation&&Ft(e),hasBarBooster:!!i.boosterPosts?.bar,hasModalBooster:!!i.boosterPosts?.modal,hasOverlayBooster:!!i.boosterPosts?.overlay}}))}_pushWidget(t){t._id=Lt++;for(let e=0;e<this.log.length;e++){let i=this.log[e];if(i.push&&s(Pt(Pt({},i.push),{},{_id:null}),Pt(Pt({},t),{},{_id:null})))return}const e=new et(t);let i;function n(t){return`${t.widget}|${t.selector}`}i=t.embed?c(t.selector):t.root?c(t.root):document.body,i?(this.log.push({push:t}),e.insert(i),e.one("BOOTSTRAP",(i=>{let s;for(let i=0;i<this.widgets.length;i++){let s=this.widgets[i];if(n(s.conf)===n(t)){if(!(s.conf._id<t._id))return e.destroy();s.destroy()}}s=new Ot(this,e,t),s&&(this.widgets.push(s),t.name&&(this[`widget$${t.name}`]=s),setTimeout((()=>{s._init()}),10))}))):setTimeout((()=>{this._pushWidget(t)}),1e3)}}function Ft(t){return!!t.data}let Nt;Nt=window.announcekit?window.announcekit.loaded?window.announcekit:new At(window.announcekit):new At({});const jt=Nt},1223:(t,e,i)=>{var n=i(5112)("unscopables"),s=i(30),o=i(5185),r=Array.prototype;null==r[n]&&o(r,n,s(null)),t.exports=function(t){r[n][t]=!0}},9670:(t,e,i)=>{var n=i(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},1318:(t,e,i)=>{var n=i(5656),s=i(7466),o=i(1400);t.exports=function(t){return function(e,i,r){var a,l=n(e),d=s(l.length),c=o(r,d);if(t&&i!=i){for(;d>c;)if((a=l[c++])!=a)return!0}else for(;d>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9920:(t,e,i)=>{var n=i(6656),s=i(3887),o=i(1236),r=i(3070);t.exports=function(t,e){for(var i=s(e),a=r.f,l=o.f,d=0;d<i.length;d++){var c=i[d];n(t,c)||a(t,c,l(e,c))}}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:(t,e,i)=>{t.exports=!i(7293)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},317:(t,e,i)=>{var n=i(111),s=i(7854).document,o=n(s)&&n(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,i)=>{var n=i(7854),s=i(1236).f,o=i(5185),r=i(1320),a=i(3505),l=i(9920),d=i(4705);t.exports=function(t,e){var i,c,h,p,u,g=t.target,m=t.global,b=t.stat;if(i=m?n:b?n[g]||a(g,{}):(n[g]||{}).prototype)for(c in e){if(p=e[c],h=t.noTargetGet?(u=s(i,c))&&u.value:i[c],!d(m?c:g+(b?".":"#")+c,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;l(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),r(i,c,p,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2521:(t,e,i)=>{t.exports=i(2309)("native-function-to-string",Function.toString)},7854:t=>{t.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,i){return e.call(t,i)}},3501:t=>{t.exports={}},5185:(t,e,i)=>{var n=i(3070),s=i(9114);t.exports=i(9781)?function(t,e,i){return n.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},490:(t,e,i)=>{var n=i(7854).document;t.exports=n&&n.documentElement},4664:(t,e,i)=>{t.exports=!i(9781)&&!i(7293)((function(){return 7!=Object.defineProperty(i(317)("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,i)=>{var n=i(7293),s=i(4326),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?o.call(t,""):Object(t)}:Object},9909:(t,e,i)=>{var n,s,o,r=i(8536),a=i(111),l=i(5185),d=i(6656),c=i(6200),h=i(3501),p=i(7854).WeakMap;if(r){var u=new p,g=u.get,m=u.has,b=u.set;n=function(t,e){return b.call(u,t,e),e},s=function(t){return g.call(u,t)||{}},o=function(t){return m.call(u,t)}}else{var f=c("state");h[f]=!0,n=function(t,e){return l(t,f,e),e},s=function(t){return d(t,f)?t[f]:{}},o=function(t){return d(t,f)}}t.exports={set:n,get:s,has:o,enforce:function(t){return o(t)?s(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!a(e)||(i=s(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},4705:(t,e,i)=>{var n=i(7293),s=/#|\.prototype\./,o=function(t,e){var i=a[r(t)];return i==d||i!=l&&("function"==typeof e?n(e):!!e)},r=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",d=o.POLYFILL="P";t.exports=o},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},133:(t,e,i)=>{t.exports=!i(7293)((function(){String(Symbol())}))},8536:(t,e,i)=>{var n=i(2521),s=i(7854).WeakMap;t.exports="function"==typeof s&&/native code/.test(n.call(s))},30:(t,e,i)=>{var n=i(9670),s=i(6048),o=i(748),r=i(490),a=i(317),l=i(6200)("IE_PROTO"),d="prototype",c=function(){},h=function(){var t,e=a("iframe"),i=o.length,n="script",s="java"+n+":";for(e.style.display="none",r.appendChild(e),e.src=String(s),(t=e.contentWindow.document).open(),t.write("<"+n+">document.F=Object</"+n+">"),t.close(),h=t.F;i--;)delete h[d][o[i]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(c[d]=n(t),i=new c,c[d]=null,i[l]=t):i=h(),void 0===e?i:s(i,e)},i(3501)[l]=!0},6048:(t,e,i)=>{var n=i(9781),s=i(3070),o=i(9670),r=i(1956);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var i,n=r(e),a=n.length,l=0;a>l;)s.f(t,i=n[l++],e[i]);return t}},3070:(t,e,i)=>{var n=i(9781),s=i(4664),o=i(9670),r=i(7593),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(o(t),e=r(e,!0),o(i),s)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:(t,e,i)=>{var n=i(9781),s=i(5296),o=i(9114),r=i(5656),a=i(7593),l=i(6656),d=i(4664),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=r(t),e=a(e,!0),d)try{return c(t,e)}catch(t){}if(l(t,e))return o(!s.f.call(t,e),t[e])}},8006:(t,e,i)=>{var n=i(6324),s=i(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},6324:(t,e,i)=>{var n=i(6656),s=i(5656),o=i(1318)(!1),r=i(3501);t.exports=function(t,e){var i,a=s(t),l=0,d=[];for(i in a)!n(r,i)&&n(a,i)&&d.push(i);for(;e.length>l;)n(a,i=e[l++])&&(~o(d,i)||d.push(i));return d}},1956:(t,e,i)=>{var n=i(6324),s=i(748);t.exports=Object.keys||function(t){return n(t,s)}},5296:(t,e)=>{"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!i.call({1:2},1);e.f=s?function(t){var e=n(this,t);return!!e&&e.enumerable}:i},3887:(t,e,i)=>{var n=i(8006),s=i(5181),o=i(9670),r=i(7854).Reflect;t.exports=r&&r.ownKeys||function(t){var e=n.f(o(t)),i=s.f;return i?e.concat(i(t)):e}},1320:(t,e,i)=>{var n=i(7854),s=i(5185),o=i(6656),r=i(3505),a=i(2521),l=i(9909),d=l.get,c=l.enforce,h=String(a).split("toString");i(2309)("inspectSource",(function(t){return a.call(t)})),(t.exports=function(t,e,i,a){var l=!!a&&!!a.unsafe,d=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||o(i,"name")||s(i,"name",e),c(i).source=h.join("string"==typeof e?e:"")),t!==n?(l?!p&&t[e]&&(d=!0):delete t[e],d?t[e]=i:s(t,e,i)):d?t[e]=i:r(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&d(this).source||a.call(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,i)=>{var n=i(7854),s=i(5185);t.exports=function(t,e){try{s(n,t,e)}catch(i){n[t]=e}return e}},6200:(t,e,i)=>{var n=i(2309)("keys"),s=i(9711);t.exports=function(t){return n[t]||(n[t]=s(t))}},2309:(t,e,i)=>{var n=i(7854),s=i(3505),o="__core-js_shared__",r=n[o]||s(o,{});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.0",mode:i(1913)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},1400:(t,e,i)=>{var n=i(9958),s=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?s(i+e,0):o(i,e)}},5656:(t,e,i)=>{var n=i(8361),s=i(4488);t.exports=function(t){return n(s(t))}},9958:t=>{var e=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:e)(t)}},7466:(t,e,i)=>{var n=i(9958),s=Math.min;t.exports=function(t){return t>0?s(n(t),9007199254740991):0}},7593:(t,e,i)=>{var n=i(111);t.exports=function(t,e){if(!n(t))return t;var i,s;if(e&&"function"==typeof(i=t.toString)&&!n(s=i.call(t)))return s;if("function"==typeof(i=t.valueOf)&&!n(s=i.call(t)))return s;if(!e&&"function"==typeof(i=t.toString)&&!n(s=i.call(t)))return s;throw TypeError("Can't convert object to primitive value")}},9711:t=>{var e=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+i).toString(36))}},5112:(t,e,i)=>{var n=i(2309)("wks"),s=i(9711),o=i(7854).Symbol,r=i(133);t.exports=function(t){return n[t]||(n[t]=r&&o[t]||(r?o:s)("Symbol."+t))}},6699:(t,e,i)=>{"use strict";var n=i(1318)(!0);i(2109)({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i(1223)("includes")},6774:t=>{t.exports=function(t,e,i,n){var s=i?i.call(n,t,e):void 0;if(void 0!==s)return!!s;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var o=Object.keys(t),r=Object.keys(e);if(o.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),l=0;l<o.length;l++){var d=o[l];if(!a(d))return!1;var c=t[d],h=e[d];if(!1===(s=i?i.call(n,c,h,d):void 0)||void 0===s&&c!==h)return!1}return!0}}},e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}return i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i(1244)})().default;